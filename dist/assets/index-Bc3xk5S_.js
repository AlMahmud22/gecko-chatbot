const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ModelDetails-D_amfw8w.js","./ui-ypWNQtmN.js","./vendor-BmsND6nG.js"])))=>i.map(i=>d[i]);
import{j as o,M as si,h as ni,_ as ri}from"./ui-ypWNQtmN.js";import{a as oi,g as ys,b as f,r as pr,R as st,u as ii,N as at,d as bs,O as ai,e as li,f as ci,h as ui,i as di}from"./vendor-BmsND6nG.js";import qs from"axios";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();var lt={},Ws;function hi(){if(Ws)return lt;Ws=1;var e=oi();return lt.createRoot=e.createRoot,lt.hydrateRoot=e.hydrateRoot,lt}var fi=hi();const mi=ys(fi);function pi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Gs=f.forwardRef(pi);function gi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const xi=f.forwardRef(gi);function yi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const bi=f.forwardRef(yi);function vi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const gr=f.forwardRef(vi);function wi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const ji=f.forwardRef(wi);function ki({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Ci=f.forwardRef(ki);function Si({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ti=f.forwardRef(Si);function Ni({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const xr=f.forwardRef(Ni);function Pi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Ai=f.forwardRef(Pi);function Mi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ks=f.forwardRef(Mi);function Ei({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Ri=f.forwardRef(Ei);function Vi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Li=f.forwardRef(Vi);function Fi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Di=f.forwardRef(Fi);function Ii({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Bi=f.forwardRef(Ii);function Oi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Ui=f.forwardRef(Oi);function Hi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const yr=f.forwardRef(Hi);function _i({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Zs=f.forwardRef(_i);function $i({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const zi=f.forwardRef($i);function qi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const br=f.forwardRef(qi);function Wi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Ys=f.forwardRef(Wi);function Gi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const Ki=f.forwardRef(Gi);function Zi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const vr=f.forwardRef(Zi);function Yi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const wr=f.forwardRef(Yi);function Xi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jr=f.forwardRef(Xi);function Qi({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const St=f.forwardRef(Qi);function kr(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(s=kr(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function Cr(){for(var e,t,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=kr(e))&&(n&&(n+=" "),n+=t);return n}var Ji={};const Xs={getSystemInfo:async()=>({platform:"win32",arch:"x64",cpu:{model:"Intel Mock CPU",cores:8},memory:{total:16e9,free:8e9},gpu:"Mock GPU"}),onThemeUpdated:e=>{const t={shouldUseDarkColors:window.matchMedia("(prefers-color-scheme: dark)").matches};return e(t),()=>{}},openFileDialog:async()=>({canceled:!1,filePaths:["/path/to/mock/model.gguf"]}),openModelsFolder:async()=>(console.log("Mock: Opening models folder"),{success:!0}),getAvailableModels:async()=>[{id:"test-model-1",name:"Test Model 1",description:"A test model for development",isInstalled:!0,size:"1.1GB"},{id:"test-model-2",name:"Test Model 2",description:"Another test model for development",isInstalled:!1,size:"2.2GB"}],fetchModelDetails:async e=>({id:e,name:`Test Model ${e}`,description:"Detailed description for development",size:"1.1GB",isInstalled:!0}),downloadModel:async e=>({success:!0}),deleteModel:async e=>({success:!0}),installLocalModel:async()=>{const e=["llama-2-7b-chat.Q4_K_M.gguf","mistral-7b-instruct-v0.1.Q4_K_M.gguf","codegemma-2b.Q4_K_M.gguf"],t=e[Math.floor(Math.random()*e.length)],s=t.replace(".Q4_K_M.gguf","");return{success:!0,message:"Model imported successfully",modelName:s,model:{_id:t,id:t.replace(".gguf",""),name:s,filePath:`models/${t}`,downloadedAt:new Date().toISOString(),size:Math.floor(Math.random()*5e9)+5e8,quant:"Q4_K_M",parameters:["7B","2B","13B"][Math.floor(Math.random()*3)],tags:["local","gguf"],description:`Local model: ${s}`,license:"Unknown",downloads:0,isInstalled:!0}}},getLocalModels:async()=>[{id:"llama-2-7b-chat-q4",_id:"llama-2-7b-chat.Q4_K_M.gguf",name:"Llama 2 7B Chat",file_path:"/path/to/models/llama-2-7b-chat.Q4_K_M.gguf",size:38e8,description:"Meta Llama 2 7B Chat model optimized for conversations",quant:"Q4_K_M",parameters:"7B",tags:["local","chat","llama2"],license:"Custom",downloads:0,downloadedAt:new Date(Date.now()-864e5).toISOString(),isInstalled:!0},{id:"mistral-7b-instruct-v01",_id:"mistral-7b-instruct-v0.1.Q4_K_M.gguf",name:"Mistral 7B Instruct v0.1",file_path:"/path/to/models/mistral-7b-instruct-v0.1.Q4_K_M.gguf",size:41e8,description:"Mistral 7B model fine-tuned for instruction following",quant:"Q4_K_M",parameters:"7B",tags:["local","instruct","mistral"],license:"Apache-2.0",downloads:0,downloadedAt:new Date(Date.now()-1728e5).toISOString(),isInstalled:!0}],openModelsFolder:async()=>(console.log("Mock: Opening models folder"),{success:!0,message:"Models folder opened"}),runInference:async({modelId:e,message:t})=>({response:`[DEV MODE] Response from ${e}: ${t}`}),getSettings:async()=>({theme:"system",inferenceParams:{temperature:.7,maxTokens:1e3}}),saveSettings:async e=>({success:!0}),getChatSettings:async()=>({historyEnabled:!0,maxHistoryLength:100,temperature:.7,maxTokens:1e3}),saveChatSettings:async e=>({success:!0}),getPerformanceSettings:async()=>({threads:4,batchSize:512,contextSize:2048}),savePerformanceSettings:async e=>({success:!0}),getPaths:async()=>({appData:"/mock/appData",userData:"/mock/userData",temp:"/mock/temp",downloads:"/mock/downloads",documents:"/mock/documents"}),getChatHistory:async()=>[{id:"chat-1",title:"Test Chat 1",modelId:"test-model-1",timestamp:new Date().toISOString()}],saveChat:async e=>({success:!0}),deleteChat:async e=>({success:!0}),onNavigate:e=>()=>{},getAuthToken:async()=>null,saveAuthToken:async e=>({success:!0}),clearAuthToken:async()=>({success:!0}),getHuggingFaceToken:async()=>null,saveHuggingFaceToken:async e=>({success:!0}),login:async(e="google",t=null)=>(console.log(`Mock: Initiating login with provider: ${e}, redirect: ${t}`),{success:!0,loginUrl:`${Ji.BASE_URL||"https://equators.tech"}/auth/${e}/redirect?redirect=${encodeURIComponent(t||"equatorschatbot://auth/callback")}`}),getAuthStatus:async()=>({isAuthenticated:!1,user:null,token:null,hfToken:null}),getUserProfile:async()=>null,refreshAuth:async()=>({success:!1,error:"Not available in development"}),logout:async()=>({success:!0}),openExternalUrl:async e=>(console.log("Mock: Would open URL:",e),{success:!0}),onAuthCallback:e=>()=>{},onAuthError:e=>()=>{}},Se=f.createContext(void 0),ge=()=>{const e=f.useContext(Se);if(e===void 0)throw new Error("useElectronApi must be used within an ElectronApiProvider");return e},ea=({children:e})=>{const[t,s]=f.useState(()=>window.electronAPI||Xs),n=!1;f.useEffect(()=>{{const a=()=>{window.electronAPI?s(window.electronAPI):setTimeout(a,100)};a()}},[n]);const r={...t,isDevelopment:n,isMockApi:t===Xs};return o.jsx(Se.Provider,{value:r,children:e})},ta={},Qs=e=>{let t;const s=new Set,n=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const m=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),s.forEach(y=>y(t,m))}},r=()=>t,c={setState:n,getState:r,getInitialState:()=>u,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(ta?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(n,r,c);return c},sa=e=>e?Qs(e):Qs;var Lt={exports:{}},Ft={},Dt={exports:{}},It={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js;function na(){if(Js)return It;Js=1;var e=pr();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,r=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function l(h,p){var m=p(),y=n({inst:{value:m,getSnapshot:p}}),g=y[0].inst,x=y[1];return a(function(){g.value=m,g.getSnapshot=p,c(g)&&x({inst:g})},[h,m,p]),r(function(){return c(g)&&x({inst:g}),h(function(){c(g)&&x({inst:g})})},[h]),i(m),m}function c(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!s(h,m)}catch{return!0}}function u(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return It.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,It}var en;function ra(){return en||(en=1,Dt.exports=na()),Dt.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tn;function oa(){if(tn)return Ft;tn=1;var e=pr(),t=ra();function s(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:s,r=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Ft.useSyncExternalStoreWithSelector=function(u,d,h,p,m){var y=a(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=l(function(){function w(M){if(!v){if(v=!0,b=M,M=p(M),m!==void 0&&g.hasValue){var T=g.value;if(m(T,M))return k=T}return k=M}if(T=k,n(b,M))return T;var N=p(M);return m!==void 0&&m(T,N)?(b=M,T):(b=M,k=N)}var v=!1,b,k,S=h===void 0?null:h;return[function(){return w(d())},S===null?void 0:function(){return w(S())}]},[d,h,p,m]);var x=r(u,y[0],y[1]);return i(function(){g.hasValue=!0,g.value=x},[x]),c(x),x},Ft}var sn;function ia(){return sn||(sn=1,Lt.exports=oa()),Lt.exports}var aa=ia();const la=ys(aa),Sr={},{useDebugValue:ca}=st,{useSyncExternalStoreWithSelector:ua}=la;let nn=!1;const da=e=>e;function ha(e,t=da,s){(Sr?"production":void 0)!=="production"&&s&&!nn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nn=!0);const n=ua(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return ca(n),n}const rn=e=>{(Sr?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?sa(e):e,s=(n,r)=>ha(t,n,r);return Object.assign(s,t),s},fa=e=>e?rn(e):rn,vs=fa((e,t)=>({authToken:null,huggingFaceToken:null,user:null,isAuthenticated:!1,isLoading:!1,setAuthToken:s=>e({authToken:s,isAuthenticated:!!s}),setHuggingFaceToken:s=>e({huggingFaceToken:s}),setUser:s=>e({user:s}),setLoading:s=>e({isLoading:s}),login:async s=>{e({authToken:s.token,huggingFaceToken:s.hfToken,user:s.user,isAuthenticated:!0})},logout:()=>e({authToken:null,huggingFaceToken:null,user:null,isAuthenticated:!1}),activeModel:null,setActiveModel:s=>e({activeModel:s}),models:[],installedModels:[],favoriteModels:[],setModels:s=>e({models:s}),setInstalledModels:s=>e({installedModels:s}),addFavoriteModel:s=>e(n=>({favoriteModels:[...n.favoriteModels,s]})),removeFavoriteModel:s=>e(n=>({favoriteModels:n.favoriteModels.filter(r=>r!==s)})),filters:{task:["text-generation"],library:["gguf"],size:[],license:[],language:[],sort:"downloads"},updateFilters:s=>e(n=>({filters:{...n.filters,...s}})),chatSettings:{maxTokens:2048,promptSize:512,temperature:.7,topP:.9,systemPrompt:"",saveHistory:!0,codeHighlighting:!0,markdownRendering:!0},updateChatSettings:s=>e(n=>({chatSettings:{...n.chatSettings,...s}})),performanceSettings:{threads:4,top_k:40,top_p:.9,temperature:.7},updatePerformanceSettings:s=>e(n=>({performanceSettings:{...n.performanceSettings,...s}}))})),Tr=f.createContext(void 0);function ma({children:e}){const t=ge(),{login:s,logout:n,setLoading:r,authToken:a,huggingFaceToken:i,user:l,isAuthenticated:c,isLoading:u}=vs();f.useEffect(()=>{const y=async()=>{r(!0);try{const g=await t.getAuthStatus?.();g&&g.isAuthenticated&&g.user?await s({token:g.token,hfToken:g.hfToken,user:g.user}):g&&(g.expired||g.invalid)&&(console.log("Token expired or invalid, clearing auth state"),await n())}catch(g){console.error("Failed to initialize auth:",g);try{const x=await t.getAuthToken?.(),w=await t.getHuggingFaceToken?.();if(x){const v=JSON.parse(atob(x.split(".")[1]));await s({token:x,hfToken:w||v.hf_token,user:{id:v.sub,username:v.username,email:v.email,avatar:v.avatar,name:v.name||v.username}})}}catch(x){console.error("Fallback auth initialization failed:",x)}}finally{r(!1)}};(t.getAuthStatus||t.getAuthToken)&&y()},[t.getAuthStatus,t.getAuthToken,t.getHuggingFaceToken,s,n,r]),f.useEffect(()=>{if(!t.onAuthCallback)return;const y=t.onAuthCallback(async x=>{console.log("Received auth callback:",x);try{await d(x)}catch(w){console.error("Failed to process auth callback:",w)}}),g=t.onAuthError?.(async x=>{console.error("Auth error:",x)});return()=>{y(),g?.()}},[t.onAuthCallback,t.onAuthError]),f.useEffect(()=>t.onAuthToken?t.onAuthToken(async g=>{console.log("Auth token received via protocol callback");try{const x=JSON.parse(atob(g.split(".")[1])),w={token:g,hfToken:x.hf_token,user:{id:x.sub,username:x.username,email:x.email,avatar:x.avatar,name:x.name||x.username}};await t.saveAuthToken?.(g),x.hf_token&&await t.saveHuggingFaceToken?.(x.hf_token),await s(w),console.log("Auth state updated successfully")}catch(x){console.error("Failed to process auth token:",x)}}):void 0,[t.onAuthToken,t.saveAuthToken,t.saveHuggingFaceToken,s]);const d=async y=>{try{return await t.saveAuthToken?.(y.token),y.hfToken&&await t.saveHuggingFaceToken?.(y.hfToken),await s(y),!0}catch(g){return console.error("Login failed:",g),!1}},m={authToken:a,huggingFaceToken:i,user:l,isAuthenticated:c,isLoading:u,login:async()=>{try{return(await t.login?.())?.success||!1}catch(y){return console.error("Failed to start login:",y),!1}},logout:async()=>{try{return(await t.logout?.())?.success?(n(),!0):(await t.clearAuthToken?.(),n(),!0)}catch(y){return console.error("Logout failed:",y),!1}}};return o.jsx(Tr.Provider,{value:m,children:e})}const ws=()=>{const e=f.useContext(Tr);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function pa({onClose:e}){const{login:t}=ge(),s=async(n="google")=>{try{const r=await t?.(n);r?.success?console.log("Login initiated successfully"):console.error("Failed to initiate login:",r?.error)}catch(r){console.error("Login error:",r)}e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-6 max-w-md w-full shadow-xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Login Required"}),o.jsx("button",{className:"text-gray-400 hover:text-white",onClick:e,children:o.jsx(St,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-300",children:"Login is required to download models from Hugging Face. Visit the Equators Chatbot website to create an account or log in."}),o.jsxs("div",{className:"bg-[#2a2a2a] border border-[#3a3a3a] rounded-lg p-4 text-sm text-gray-400",children:[o.jsxs("p",{className:"mb-2",children:["💡 ",o.jsx("span",{className:"text-blue-400",children:"Important:"})]}),o.jsx("p",{children:"This application stores no cloud data, even after login. Login is required only to download models. Your chats, history, and configuration are stored entirely on your device."})]}),o.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[o.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md",onClick:e,children:"Cancel"}),o.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",onClick:()=>s("google"),children:"Login with Google"})]})]})]})})}const Nr=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Tt=f.createContext({}),Nt=f.createContext(null),Pt=typeof document<"u",js=Pt?f.useLayoutEffect:f.useEffect,Pr=f.createContext({strict:!1}),ks=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ga="framerAppearId",Ar="data-"+ks(ga);function xa(e,t,s,n){const{visualElement:r}=f.useContext(Tt),a=f.useContext(Pr),i=f.useContext(Nt),l=f.useContext(Nr).reducedMotion,c=f.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:r,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;f.useInsertionEffect(()=>{u&&u.update(s,i)});const d=f.useRef(!!(s[Ar]&&!window.HandoffComplete));return js(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Le(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ya(e,t,s){return f.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Le(s)&&(s.current=n))},[t])}function Je(e){return typeof e=="string"||Array.isArray(e)}function At(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Cs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ss=["initial",...Cs];function Mt(e){return At(e.animate)||Ss.some(t=>Je(e[t]))}function Mr(e){return!!(Mt(e)||e.variants)}function ba(e,t){if(Mt(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Je(s)?s:void 0,animate:Je(n)?n:void 0}}return e.inherit!==!1?t:{}}function va(e){const{initial:t,animate:s}=ba(e,f.useContext(Tt));return f.useMemo(()=>({initial:t,animate:s}),[on(t),on(s)])}function on(e){return Array.isArray(e)?e.join(" "):e}const an={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},et={};for(const e in an)et[e]={isEnabled:t=>an[e].some(s=>!!t[s])};function wa(e){for(const t in e)et[t]={...et[t],...e[t]}}const Ts=f.createContext({}),Er=f.createContext({}),ja=Symbol.for("motionComponentSymbol");function ka({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:r}){e&&wa(e);function a(l,c){let u;const d={...f.useContext(Nr),...l,layoutId:Ca(l)},{isStatic:h}=d,p=va(l),m=n(l,h);if(!h&&Pt){p.visualElement=xa(r,m,d,t);const y=f.useContext(Er),g=f.useContext(Pr).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,y))}return f.createElement(Tt.Provider,{value:p},u&&p.visualElement?f.createElement(u,{visualElement:p.visualElement,...d}):null,s(r,l,ya(m,p.visualElement,c),m,h,p.visualElement))}const i=f.forwardRef(a);return i[ja]=r,i}function Ca({layoutId:e}){const t=f.useContext(Ts).id;return t&&e!==void 0?t+"-"+e:e}function Sa(e){function t(n,r={}){return ka(e(n,r))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,r)=>(s.has(r)||s.set(r,t(r)),s.get(r))})}const Ta=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ns(e){return typeof e!="string"||e.includes("-")?!1:!!(Ta.indexOf(e)>-1||/[A-Z]/.test(e))}const gt={};function Na(e){Object.assign(gt,e)}const nt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Te=new Set(nt);function Rr(e,{layout:t,layoutId:s}){return Te.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!gt[e]||e==="opacity")}const G=e=>!!(e&&e.getVelocity),Pa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Aa=nt.length;function Ma(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,r){let a="";for(let i=0;i<Aa;i++){const l=nt[i];if(e[l]!==void 0){const c=Pa[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}const Vr=e=>t=>typeof t=="string"&&t.startsWith(e),Lr=Vr("--"),rs=Vr("var(--"),Ea=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Ra=(e,t)=>t&&typeof e=="number"?t.transform(e):e,me=(e,t,s)=>Math.min(Math.max(s,e),t),Ne={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ze={...Ne,transform:e=>me(0,1,e)},ct={...Ne,default:1},Ye=e=>Math.round(e*1e5)/1e5,Et=/(-)?([\d]*\.?[\d])+/g,Fr=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Va=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function rt(e){return typeof e=="string"}const ot=e=>({test:t=>rt(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),de=ot("deg"),te=ot("%"),P=ot("px"),La=ot("vh"),Fa=ot("vw"),ln={...te,parse:e=>te.parse(e)/100,transform:e=>te.transform(e*100)},cn={...Ne,transform:Math.round},Dr={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,size:P,top:P,right:P,bottom:P,left:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,rotate:de,rotateX:de,rotateY:de,rotateZ:de,scale:ct,scaleX:ct,scaleY:ct,scaleZ:ct,skew:de,skewX:de,skewY:de,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:Ze,originX:ln,originY:ln,originZ:P,zIndex:cn,fillOpacity:Ze,strokeOpacity:Ze,numOctaves:cn};function Ps(e,t,s,n){const{style:r,vars:a,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const p=t[h];if(Lr(h)){a[h]=p;continue}const m=Dr[h],y=Ra(p,m);if(Te.has(h)){if(c=!0,i[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=y):r[h]=y}if(t.transform||(c||n?r.transform=Ma(e.transform,s,d,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=l;r.transformOrigin=`${h} ${p} ${m}`}}const As=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ir(e,t,s){for(const n in t)!G(t[n])&&!Rr(n,s)&&(e[n]=t[n])}function Da({transformTemplate:e},t,s){return f.useMemo(()=>{const n=As();return Ps(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function Ia(e,t,s){const n=e.style||{},r={};return Ir(r,n,e),Object.assign(r,Da(e,t,s)),e.transformValues?e.transformValues(r):r}function Ba(e,t,s){const n={},r=Ia(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Oa=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Oa.has(e)}let Br=e=>!xt(e);function Ua(e){e&&(Br=t=>t.startsWith("on")?!xt(t):e(t))}try{Ua(require("@emotion/is-prop-valid").default)}catch{}function Ha(e,t,s){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||(Br(r)||s===!0&&xt(r)||!t&&!xt(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}function un(e,t,s){return typeof e=="string"?e:P.transform(t+s*e)}function _a(e,t,s){const n=un(t,e.x,e.width),r=un(s,e.y,e.height);return`${n} ${r}`}const $a={offset:"stroke-dashoffset",array:"stroke-dasharray"},za={offset:"strokeDashoffset",array:"strokeDasharray"};function qa(e,t,s=1,n=0,r=!0){e.pathLength=1;const a=r?$a:za;e[a.offset]=P.transform(-n);const i=P.transform(t),l=P.transform(s);e[a.array]=`${i} ${l}`}function Ms(e,{attrX:t,attrY:s,attrScale:n,originX:r,originY:a,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,h,p){if(Ps(e,u,d,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y,dimensions:g}=e;m.transform&&(g&&(y.transform=m.transform),delete m.transform),g&&(r!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=_a(g,r!==void 0?r:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),i!==void 0&&qa(m,i,l,c,!1)}const Or=()=>({...As(),attrs:{}}),Es=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Wa(e,t,s,n){const r=f.useMemo(()=>{const a=Or();return Ms(a,t,{enableHardwareAcceleration:!1},Es(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Ir(a,e.style,e),r.style={...a,...r.style}}return r}function Ga(e=!1){return(s,n,r,{latestValues:a},i)=>{const c=(Ns(s)?Wa:Ba)(n,a,i,s),d={...Ha(n,typeof s=="string",e),...c,ref:r},{children:h}=n,p=f.useMemo(()=>G(h)?h.get():h,[h]);return f.createElement(s,{...d,children:p})}}function Ur(e,{style:t,vars:s},n,r){Object.assign(e.style,t,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const Hr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _r(e,t,s,n){Ur(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(Hr.has(r)?r:ks(r),t.attrs[r])}function Rs(e,t){const{style:s}=e,n={};for(const r in s)(G(s[r])||t.style&&G(t.style[r])||Rr(r,e))&&(n[r]=s[r]);return n}function $r(e,t){const s=Rs(e,t);for(const n in e)if(G(e[n])||G(t[n])){const r=nt.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[r]=e[n]}return s}function Vs(e,t,s,n={},r={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,r)),t}function zr(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const yt=e=>Array.isArray(e),Ka=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Za=e=>yt(e)?e[e.length-1]||0:e;function ft(e){const t=G(e)?e.get():e;return Ka(t)?t.toValue():t}function Ya({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,r,a){const i={latestValues:Xa(n,r,a,e),renderState:t()};return s&&(i.mount=l=>s(n,l,i)),i}const qr=e=>(t,s)=>{const n=f.useContext(Tt),r=f.useContext(Nt),a=()=>Ya(e,t,n,r);return s?a():zr(a)};function Xa(e,t,s,n){const r={},a=n(e,{});for(const p in a)r[p]=ft(a[p]);let{initial:i,animate:l}=e;const c=Mt(e),u=Mr(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||i===!1;const h=d?l:i;return h&&typeof h!="boolean"&&!At(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=Vs(e,m);if(!y)return;const{transitionEnd:g,transition:x,...w}=y;for(const v in w){let b=w[v];if(Array.isArray(b)){const k=d?b.length-1:0;b=b[k]}b!==null&&(r[v]=b)}for(const v in g)r[v]=g[v]}),r}const B=e=>e;class dn{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Qa(e){let t=new dn,s=new dn,n=0,r=!1,a=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&r,p=h?t:s;return u&&i.add(c),p.add(c)&&h&&r&&(n=t.order.length),c},cancel:c=>{s.remove(c),i.delete(c)},process:c=>{if(r){a=!0;return}if(r=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}r=!1,a&&(a=!1,l.process(c))}};return l}const ut=["prepare","read","update","preRender","render","postRender"],Ja=40;function el(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=ut.reduce((h,p)=>(h[p]=Qa(()=>s=!0),h),{}),i=h=>a[h].process(r),l=()=>{const h=performance.now();s=!1,r.delta=n?1e3/60:Math.max(Math.min(h-r.timestamp,Ja),1),r.timestamp=h,r.isProcessing=!0,ut.forEach(i),r.isProcessing=!1,s&&t&&(n=!1,e(l))},c=()=>{s=!0,n=!0,r.isProcessing||e(l)};return{schedule:ut.reduce((h,p)=>{const m=a[p];return h[p]=(y,g=!1,x=!1)=>(s||c(),m.schedule(y,g,x)),h},{}),cancel:h=>ut.forEach(p=>a[p].cancel(h)),state:r,steps:a}}const{schedule:F,cancel:ce,state:z,steps:Bt}=el(typeof requestAnimationFrame<"u"?requestAnimationFrame:B,!0),tl={useVisualState:qr({scrapeMotionValuesFromProps:$r,createRenderState:Or,onMount:(e,t,{renderState:s,latestValues:n})=>{F.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),F.render(()=>{Ms(s,n,{enableHardwareAcceleration:!1},Es(t.tagName),e.transformTemplate),_r(t,s)})}})},sl={useVisualState:qr({scrapeMotionValuesFromProps:Rs,createRenderState:As})};function nl(e,{forwardMotionProps:t=!1},s,n){return{...Ns(e)?tl:sl,preloadedFeatures:s,useRender:Ga(t),createVisualElement:n,Component:e}}function ie(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const Wr=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rt(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const rl=e=>t=>Wr(t)&&e(t,Rt(t));function ae(e,t,s,n){return ie(e,t,rl(s),n)}const ol=(e,t)=>s=>t(e(s)),fe=(...e)=>e.reduce(ol);function Gr(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const hn=Gr("dragHorizontal"),fn=Gr("dragVertical");function Kr(e){let t=!1;if(e==="y")t=fn();else if(e==="x")t=hn();else{const s=hn(),n=fn();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function Zr(){const e=Kr(!0);return e?(e(),!1):!0}class xe{constructor(t){this.isMounted=!1,this.node=t}update(){}}function mn(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),r=(a,i)=>{if(a.pointerType==="touch"||Zr())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&F.update(()=>l[n](a,i))};return ae(e.current,s,r,{passive:!e.getProps()[n]})}class il extends xe{mount(){this.unmount=fe(mn(this.node,!0),mn(this.node,!1))}unmount(){}}class al extends xe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fe(ie(this.node.current,"focus",()=>this.onFocus()),ie(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yr=(e,t)=>t?e===t?!0:Yr(e,t.parentElement):!1;function Ot(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Rt(s))}class ll extends xe{constructor(){super(...arguments),this.removeStartListeners=B,this.removeEndListeners=B,this.removeAccessibleListeners=B,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=ae(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();F.update(()=>{!h&&!Yr(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),i=ae(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=fe(a,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ot("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&F.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ie(this.node.current,"keyup",i),Ot("down",(l,c)=>{this.startPress(l,c)})},s=ie(this.node.current,"keydown",t),n=()=>{this.isPressing&&Ot("cancel",(a,i)=>this.cancelPress(a,i))},r=ie(this.node.current,"blur",n);this.removeAccessibleListeners=fe(s,r)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&F.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Zr()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&F.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=ae(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ie(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fe(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const os=new WeakMap,Ut=new WeakMap,cl=e=>{const t=os.get(e.target);t&&t(e)},ul=e=>{e.forEach(cl)};function dl({root:e,...t}){const s=e||document;Ut.has(s)||Ut.set(s,{});const n=Ut.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(ul,{root:e,...t})),n[r]}function hl(e,t,s){const n=dl(t);return os.set(e,s),n.observe(e),()=>{os.delete(e),n.unobserve(e)}}const fl={some:0,all:1};class ml extends xe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:a}=t,i={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:fl[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return hl(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(pl(t,s))&&this.startObserver()}unmount(){}}function pl({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const gl={inView:{Feature:ml},tap:{Feature:ll},focus:{Feature:al},hover:{Feature:il}};function Xr(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function xl(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function yl(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function Vt(e,t,s){const n=e.getProps();return Vs(n,t,s!==void 0?s:n.custom,xl(e),yl(e))}let Ls=B;const Ce=e=>e*1e3,le=e=>e/1e3,bl={current:!1},Qr=e=>Array.isArray(e)&&typeof e[0]=="number";function Jr(e){return!!(!e||typeof e=="string"&&eo[e]||Qr(e)||Array.isArray(e)&&e.every(Jr))}const Ke=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,eo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ke([0,.65,.55,1]),circOut:Ke([.55,0,1,.45]),backIn:Ke([.31,.01,.66,-.59]),backOut:Ke([.33,1.53,.69,.99])};function to(e){if(e)return Qr(e)?Ke(e):Array.isArray(e)?e.map(to):eo[e]}function vl(e,t,s,{delay:n=0,duration:r,repeat:a=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=to(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}function wl(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const so=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,jl=1e-7,kl=12;function Cl(e,t,s,n,r){let a,i,l=0;do i=t+(s-t)/2,a=so(i,n,r)-e,a>0?s=i:t=i;while(Math.abs(a)>jl&&++l<kl);return i}function it(e,t,s,n){if(e===t&&s===n)return B;const r=a=>Cl(a,0,1,e,s);return a=>a===0||a===1?a:so(r(a),t,n)}const Sl=it(.42,0,1,1),Tl=it(0,0,.58,1),no=it(.42,0,.58,1),Nl=e=>Array.isArray(e)&&typeof e[0]!="number",ro=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oo=e=>t=>1-e(1-t),Fs=e=>1-Math.sin(Math.acos(e)),io=oo(Fs),Pl=ro(Fs),ao=it(.33,1.53,.69,.99),Ds=oo(ao),Al=ro(Ds),Ml=e=>(e*=2)<1?.5*Ds(e):.5*(2-Math.pow(2,-10*(e-1))),El={linear:B,easeIn:Sl,easeInOut:no,easeOut:Tl,circIn:Fs,circInOut:Pl,circOut:io,backIn:Ds,backInOut:Al,backOut:ao,anticipate:Ml},pn=e=>{if(Array.isArray(e)){Ls(e.length===4);const[t,s,n,r]=e;return it(t,s,n,r)}else if(typeof e=="string")return El[e];return e},Is=(e,t)=>s=>!!(rt(s)&&Va.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),lo=(e,t,s)=>n=>{if(!rt(n))return n;const[r,a,i,l]=n.match(Et);return{[e]:parseFloat(r),[t]:parseFloat(a),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},Rl=e=>me(0,255,e),Ht={...Ne,transform:e=>Math.round(Rl(e))},ke={test:Is("rgb","red"),parse:lo("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Ht.transform(e)+", "+Ht.transform(t)+", "+Ht.transform(s)+", "+Ye(Ze.transform(n))+")"};function Vl(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const is={test:Is("#"),parse:Vl,transform:ke.transform},Fe={test:Is("hsl","hue"),parse:lo("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+te.transform(Ye(t))+", "+te.transform(Ye(s))+", "+Ye(Ze.transform(n))+")"},q={test:e=>ke.test(e)||is.test(e)||Fe.test(e),parse:e=>ke.test(e)?ke.parse(e):Fe.test(e)?Fe.parse(e):is.parse(e),transform:e=>rt(e)?e:e.hasOwnProperty("red")?ke.transform(e):Fe.transform(e)},I=(e,t,s)=>-s*e+s*t+e;function _t(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Ll({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let r=0,a=0,i=0;if(!t)r=a=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;r=_t(c,l,e+1/3),a=_t(c,l,e),i=_t(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}const $t=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},Fl=[is,ke,Fe],Dl=e=>Fl.find(t=>t.test(e));function gn(e){const t=Dl(e);let s=t.parse(e);return t===Fe&&(s=Ll(s)),s}const co=(e,t)=>{const s=gn(e),n=gn(t),r={...s};return a=>(r.red=$t(s.red,n.red,a),r.green=$t(s.green,n.green,a),r.blue=$t(s.blue,n.blue,a),r.alpha=I(s.alpha,n.alpha,a),ke.transform(r))};function Il(e){var t,s;return isNaN(e)&&rt(e)&&(((t=e.match(Et))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Fr))===null||s===void 0?void 0:s.length)||0)>0}const uo={regex:Ea,countKey:"Vars",token:"${v}",parse:B},ho={regex:Fr,countKey:"Colors",token:"${c}",parse:q.parse},fo={regex:Et,countKey:"Numbers",token:"${n}",parse:Ne.parse};function zt(e,{regex:t,countKey:s,token:n,parse:r}){const a=e.tokenised.match(t);a&&(e["num"+s]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(r)))}function bt(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&zt(s,uo),zt(s,ho),zt(s,fo),s}function mo(e){return bt(e).values}function po(e){const{values:t,numColors:s,numVars:n,tokenised:r}=bt(e),a=t.length;return i=>{let l=r;for(let c=0;c<a;c++)c<n?l=l.replace(uo.token,i[c]):c<n+s?l=l.replace(ho.token,q.transform(i[c])):l=l.replace(fo.token,Ye(i[c]));return l}}const Bl=e=>typeof e=="number"?0:e;function Ol(e){const t=mo(e);return po(e)(t.map(Bl))}const pe={test:Il,parse:mo,createTransformer:po,getAnimatableNone:Ol},go=(e,t)=>s=>`${s>0?t:e}`;function xo(e,t){return typeof e=="number"?s=>I(e,t,s):q.test(e)?co(e,t):e.startsWith("var(")?go(e,t):bo(e,t)}const yo=(e,t)=>{const s=[...e],n=s.length,r=e.map((a,i)=>xo(a,t[i]));return a=>{for(let i=0;i<n;i++)s[i]=r[i](a);return s}},Ul=(e,t)=>{const s={...e,...t},n={};for(const r in s)e[r]!==void 0&&t[r]!==void 0&&(n[r]=xo(e[r],t[r]));return r=>{for(const a in n)s[a]=n[a](r);return s}},bo=(e,t)=>{const s=pe.createTransformer(t),n=bt(e),r=bt(t);return n.numVars===r.numVars&&n.numColors===r.numColors&&n.numNumbers>=r.numNumbers?fe(yo(n.values,r.values),s):go(e,t)},tt=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},xn=(e,t)=>s=>I(e,t,s);function Hl(e){return typeof e=="number"?xn:typeof e=="string"?q.test(e)?co:bo:Array.isArray(e)?yo:typeof e=="object"?Ul:xn}function _l(e,t,s){const n=[],r=s||Hl(e[0]),a=e.length-1;for(let i=0;i<a;i++){let l=r(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||B:t;l=fe(c,l)}n.push(l)}return n}function vo(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const a=e.length;if(Ls(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=_l(t,n,r),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=tt(e[d],e[d+1],u);return i[d](h)};return s?u=>c(me(e[0],e[a-1],u)):c}function $l(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=tt(0,t,n);e.push(I(s,1,r))}}function zl(e){const t=[0];return $l(t,e.length-1),t}function ql(e,t){return e.map(s=>s*t)}function Wl(e,t){return e.map(()=>t||no).splice(0,e.length-1)}function vt({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=Nl(n)?n.map(pn):pn(n),a={done:!1,value:t[0]},i=ql(s&&s.length===t.length?s:zl(t),e),l=vo(i,t,{ease:Array.isArray(r)?r:Wl(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function wo(e,t){return t?e*(1e3/t):0}const Gl=5;function jo(e,t,s){const n=Math.max(t-Gl,0);return wo(s-e(n),t-n)}const qt=.001,Kl=.01,Zl=10,Yl=.05,Xl=1;function Ql({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let r,a,i=1-t;i=me(Yl,Xl,i),e=me(Kl,Zl,le(e)),i<1?(r=u=>{const d=u*i,h=d*e,p=d-s,m=as(u,i),y=Math.exp(-h);return qt-p/m*y},a=u=>{const h=u*i*e,p=h*s+s,m=Math.pow(i,2)*Math.pow(u,2)*e,y=Math.exp(-h),g=as(Math.pow(u,2),i);return(-r(u)+qt>0?-1:1)*((p-m)*y)/g}):(r=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-qt+d*h},a=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,c=ec(r,a,l);if(e=Ce(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const Jl=12;function ec(e,t,s){let n=s;for(let r=1;r<Jl;r++)n=n-e(n)/t(n);return n}function as(e,t){return e*Math.sqrt(1-t*t)}const tc=["duration","bounce"],sc=["stiffness","damping","mass"];function yn(e,t){return t.some(s=>e[s]!==void 0)}function nc(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yn(e,sc)&&yn(e,tc)){const s=Ql(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function ko({keyframes:e,restDelta:t,restSpeed:s,...n}){const r=e[0],a=e[e.length-1],i={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=nc({...n,velocity:-le(n.velocity||0)}),m=h||0,y=c/(2*Math.sqrt(l*u)),g=a-r,x=le(Math.sqrt(l/u)),w=Math.abs(g)<5;s||(s=w?.01:2),t||(t=w?.005:.5);let v;if(y<1){const b=as(x,y);v=k=>{const S=Math.exp(-y*x*k);return a-S*((m+y*x*g)/b*Math.sin(b*k)+g*Math.cos(b*k))}}else if(y===1)v=b=>a-Math.exp(-x*b)*(g+(m+x*g)*b);else{const b=x*Math.sqrt(y*y-1);v=k=>{const S=Math.exp(-y*x*k),M=Math.min(b*k,300);return a-S*((m+y*x*g)*Math.sinh(M)+b*g*Math.cosh(M))/b}}return{calculatedDuration:p&&d||null,next:b=>{const k=v(b);if(p)i.done=b>=d;else{let S=m;b!==0&&(y<1?S=jo(v,b,k):S=0);const M=Math.abs(S)<=s,T=Math.abs(a-k)<=t;i.done=M&&T}return i.value=i.done?a:k,i}}}function bn({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,y=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let g=s*t;const x=h+g,w=i===void 0?x:i(x);w!==x&&(g=w-h);const v=N=>-g*Math.exp(-N/n),b=N=>w+v(N),k=N=>{const R=v(N),W=b(N);p.done=Math.abs(R)<=u,p.value=p.done?w:W};let S,M;const T=N=>{m(p.value)&&(S=N,M=ko({keyframes:[p.value,y(p.value)],velocity:jo(b,N,p.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:N=>{let R=!1;return!M&&S===void 0&&(R=!0,k(N),T(N)),S!==void 0&&N>S?M.next(N-S):(!R&&k(N),p)}}}const rc=e=>{const t=({timestamp:s})=>e(s);return{start:()=>F.update(t,!0),stop:()=>ce(t),now:()=>z.isProcessing?z.timestamp:performance.now()}},vn=2e4;function wn(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<vn;)t+=s,n=e.next(t);return t>=vn?1/0:t}const oc={decay:bn,inertia:bn,tween:vt,keyframes:vt,spring:ko};function wt({autoplay:e=!0,delay:t=0,driver:s=rc,keyframes:n,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...p}){let m=1,y=!1,g,x;const w=()=>{x=new Promise(D=>{g=D})};w();let v;const b=oc[r]||vt;let k;b!==vt&&typeof n[0]!="number"&&(k=vo([0,100],n,{clamp:!1}),n=[0,100]);const S=b({...p,keyframes:n});let M;l==="mirror"&&(M=b({...p,keyframes:[...n].reverse(),velocity:-(p.velocity||0)}));let T="idle",N=null,R=null,W=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=wn(S));const{calculatedDuration:K}=S;let _=1/0,$=1/0;K!==null&&(_=K+i,$=_*(a+1)-i);let H=0;const ee=D=>{if(R===null)return;m>0&&(R=Math.min(R,D)),m<0&&(R=Math.min(D-$/m,R)),N!==null?H=N:H=Math.round(D-R)*m;const ye=H-t*(m>=0?1:-1),Pe=m>=0?ye<0:ye>$;H=Math.max(ye,0),T==="finished"&&N===null&&(H=$);let se=H,He=S;if(a){const _e=Math.min(H,$)/_;let Ee=Math.floor(_e),re=_e%1;!re&&_e>=1&&(re=1),re===1&&Ee--,Ee=Math.min(Ee,a+1),!!(Ee%2)&&(l==="reverse"?(re=1-re,i&&(re-=i/_)):l==="mirror"&&(He=M)),se=me(0,1,re)*_}const ne=Pe?{done:!1,value:n[0]}:He.next(se);k&&(ne.value=k(ne.value));let{done:Ae}=ne;!Pe&&K!==null&&(Ae=m>=0?H>=$:H<=0);const Me=N===null&&(T==="finished"||T==="running"&&Ae);return h&&h(ne.value),Me&&ue(),ne},O=()=>{v&&v.stop(),v=void 0},Q=()=>{T="idle",O(),g(),w(),R=W=null},ue=()=>{T="finished",d&&d(),O(),g()},L=()=>{if(y)return;v||(v=s(ee));const D=v.now();c&&c(),N!==null?R=D-N:(!R||T==="finished")&&(R=D),T==="finished"&&w(),W=R,N=null,T="running",v.start()};e&&L();const Ue={then(D,ye){return x.then(D,ye)},get time(){return le(H)},set time(D){D=Ce(D),H=D,N!==null||!v||m===0?N=D:R=v.now()-D/m},get duration(){const D=S.calculatedDuration===null?wn(S):S.calculatedDuration;return le(D)},get speed(){return m},set speed(D){D===m||!v||(m=D,Ue.time=le(H))},get state(){return T},play:L,pause:()=>{T="paused",N=H},stop:()=>{y=!0,T!=="idle"&&(T="idle",u&&u(),Q())},cancel:()=>{W!==null&&ee(W),Q()},complete:()=>{T="finished"},sample:D=>(R=0,ee(D))};return Ue}function ic(e){let t;return()=>(t===void 0&&(t=e()),t)}const ac=ic(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lc=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dt=10,cc=2e4,uc=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Jr(t.ease);function dc(e,t,{onUpdate:s,onComplete:n,...r}){if(!(ac()&&lc.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:h,duration:p=300,ease:m,times:y}=r;if(uc(t,r)){const b=wt({...r,repeat:0,delay:0});let k={done:!1,value:h[0]};const S=[];let M=0;for(;!k.done&&M<cc;)k=b.sample(M),S.push(k.value),M+=dt;y=void 0,h=S,p=M-dt,m="linear"}const g=vl(e.owner.current,t,h,{...r,duration:p,ease:m,times:y}),x=()=>{u=!1,g.cancel()},w=()=>{u=!0,F.update(x),l(),d()};return g.onfinish=()=>{u||(e.set(wl(h,r)),n&&n(),w())},{then(b,k){return c.then(b,k)},attachTimeline(b){return g.timeline=b,g.onfinish=null,B},get time(){return le(g.currentTime||0)},set time(b){g.currentTime=Ce(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return le(p)},play:()=>{i||(g.play(),ce(x))},pause:()=>g.pause(),stop:()=>{if(i=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const k=wt({...r,autoplay:!1});e.setWithVelocity(k.sample(b-dt).value,k.sample(b).value,dt)}w()},complete:()=>{u||g.finish()},cancel:w}}function hc({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const r=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:B,pause:B,stop:B,then:a=>(a(),Promise.resolve()),cancel:B,complete:B});return t?wt({keyframes:[0,1],duration:0,delay:t,onComplete:r}):r()}const fc={type:"spring",stiffness:500,damping:25,restSpeed:10},mc=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pc={type:"keyframes",duration:.8},gc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xc=(e,{keyframes:t})=>t.length>2?pc:Te.has(e)?e.startsWith("scale")?mc(t[1]):fc:gc,ls=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pe.test(t)||t==="0")&&!t.startsWith("url(")),yc=new Set(["brightness","contrast","saturate","opacity"]);function bc(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Et)||[];if(!n)return e;const r=s.replace(n,"");let a=yc.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+r+")"}const vc=/([a-z-]*)\(.*?\)/g,cs={...pe,getAnimatableNone:e=>{const t=e.match(vc);return t?t.map(bc).join(" "):e}},wc={...Dr,color:q,backgroundColor:q,outlineColor:q,fill:q,stroke:q,borderColor:q,borderTopColor:q,borderRightColor:q,borderBottomColor:q,borderLeftColor:q,filter:cs,WebkitFilter:cs},Bs=e=>wc[e];function Co(e,t){let s=Bs(e);return s!==cs&&(s=pe),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const So=e=>/^0[^.\s]+$/.test(e);function jc(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||So(e)}function kc(e,t,s,n){const r=ls(t,s);let a;Array.isArray(s)?a=[...s]:a=[null,s];const i=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?i:a[u-1]),jc(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(r&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=Co(t,l)}return a}function Cc({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Os(e,t){return e[t]||e.default||e}const Sc={skipAnimations:!1},Us=(e,t,s,n={})=>r=>{const a=Os(n,e)||{},i=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Ce(i);const c=kc(t,e,s,a),u=c[0],d=c[c.length-1],h=ls(e,u),p=ls(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:y=>{t.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(Cc(a)||(m={...m,...xc(e,m)}),m.duration&&(m.duration=Ce(m.duration)),m.repeatDelay&&(m.repeatDelay=Ce(m.repeatDelay)),!h||!p||bl.current||a.type===!1||Sc.skipAnimations)return hc(m);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=dc(t,e,m);if(y)return y}return wt(m)};function jt(e){return!!(G(e)&&e.add)}const To=e=>/^\-?\d*\.?\d+$/.test(e);function Hs(e,t){e.indexOf(t)===-1&&e.push(t)}function _s(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class $s{constructor(){this.subscriptions=[]}add(t){return Hs(this.subscriptions,t),()=>_s(this.subscriptions,t)}notify(t,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,s,n);else for(let a=0;a<r;a++){const i=this.subscriptions[a];i&&i(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tc=e=>!isNaN(parseFloat(e));class Nc{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:i}=z;this.lastUpdated!==i&&(this.timeDelta=a,this.lastUpdated=i,F.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>F.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Tc(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new $s);const n=this.events[t].add(s);return t==="change"?()=>{n(),F.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?wo(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Be(e,t){return new Nc(e,t)}const No=e=>t=>t.test(e),Pc={test:e=>e==="auto",parse:e=>e},Po=[Ne,P,te,de,Fa,La,Pc],ze=e=>Po.find(No(e)),Ac=[...Po,q,pe],Mc=e=>Ac.find(No(e));function Ec(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Be(s))}function Rc(e,t){const s=Vt(e,t);let{transitionEnd:n={},transition:r={},...a}=s?e.makeTargetAnimatable(s,!1):{};a={...a,...n};for(const i in a){const l=Za(a[i]);Ec(e,i,l)}}function Vc(e,t,s){var n,r;const a=Object.keys(t).filter(l=>!e.hasValue(l)),i=a.length;if(i)for(let l=0;l<i;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(n=s[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&r!==void 0?r:t[c]),d!=null&&(typeof d=="string"&&(To(d)||So(d))?d=parseFloat(d):!Mc(d)&&pe.test(u)&&(d=Co(c,u)),e.addValue(c,Be(d,{owner:e})),s[c]===void 0&&(s[c]=d),d!==null&&e.setBaseTarget(c,d))}}function Lc(e,t){return t?(t[e]||t.default||t).from:void 0}function Fc(e,t,s){const n={};for(const r in e){const a=Lc(r,t);if(a!==void 0)n[r]=a;else{const i=s.getValue(r);i&&(n[r]=i.get())}}return n}function Dc({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Ic(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function Ao(e,t,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const h in l){const p=e.getValue(h),m=l[h];if(!p||m===void 0||d&&Dc(d,h))continue;const y={delay:s,elapsed:0,...Os(a||{},h)};if(window.HandoffAppearAnimations){const w=e.getProps()[Ar];if(w){const v=window.HandoffAppearAnimations(w,h,p,F);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let g=!y.isHandoff&&!Ic(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(Us(h,p,m,e.shouldReduceMotion&&Te.has(h)?{type:!1}:y));const x=p.animation;jt(c)&&(c.add(h),x.then(()=>c.remove(h))),u.push(x)}return i&&Promise.all(u).then(()=>{i&&Rc(e,i)}),u}function us(e,t,s={}){const n=Vt(e,t,s.custom);let{transition:r=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const a=n?()=>Promise.all(Ao(e,n,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return Bc(e,t,u+c,d,h,s)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[a,i]:[i,a];return c().then(()=>u())}else return Promise.all([a(),i(s.delay)])}function Bc(e,t,s=0,n=0,r=1,a){const i=[],l=(e.variantChildren.size-1)*n,c=r===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Oc).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(us(u,t,{...a,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function Oc(e,t){return e.sortNodePosition(t)}function Uc(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(a=>us(e,a,s));n=Promise.all(r)}else if(typeof t=="string")n=us(e,t,s);else{const r=typeof t=="function"?Vt(e,t,s.custom):t;n=Promise.all(Ao(e,r,s))}return n.then(()=>e.notify("AnimationComplete",t))}const Hc=[...Cs].reverse(),_c=Cs.length;function $c(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Uc(e,s,n)))}function zc(e){let t=$c(e);const s=Wc();let n=!0;const r=(c,u)=>{const d=Vt(e,u);if(d){const{transition:h,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function a(c){t=c(e)}function i(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},p=[],m=new Set;let y={},g=1/0;for(let w=0;w<_c;w++){const v=Hc[w],b=s[v],k=d[v]!==void 0?d[v]:h[v],S=Je(k),M=v===u?b.isActive:null;M===!1&&(g=w);let T=k===h[v]&&k!==d[v]&&S;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...y},!b.isActive&&M===null||!k&&!b.prevProp||At(k)||typeof k=="boolean")continue;let R=qc(b.prevProp,k)||v===u&&b.isActive&&!T&&S||w>g&&S,W=!1;const K=Array.isArray(k)?k:[k];let _=K.reduce(r,{});M===!1&&(_={});const{prevResolvedValues:$={}}=b,H={...$,..._},ee=O=>{R=!0,m.has(O)&&(W=!0,m.delete(O)),b.needsAnimating[O]=!0};for(const O in H){const Q=_[O],ue=$[O];if(y.hasOwnProperty(O))continue;let L=!1;yt(Q)&&yt(ue)?L=!Xr(Q,ue):L=Q!==ue,L?Q!==void 0?ee(O):m.add(O):Q!==void 0&&m.has(O)?ee(O):b.protectedKeys[O]=!0}b.prevProp=k,b.prevResolvedValues=_,b.isActive&&(y={...y,..._}),n&&e.blockInitialAnimation&&(R=!1),R&&(!T||W)&&p.push(...K.map(O=>({animation:O,options:{type:v,...c}})))}if(m.size){const w={};m.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(w[v]=b)}),p.push({animation:w})}let x=!!p.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(p):Promise.resolve()}function l(c,u,d){var h;if(s[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),s[c].isActive=u;const p=i(d,c);for(const m in s)s[m].protectedKeys={};return p}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>s}}function qc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xr(t,e):!1}function be(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wc(){return{animate:be(!0),whileInView:be(),whileHover:be(),whileTap:be(),whileDrag:be(),whileFocus:be(),exit:be()}}class Gc extends xe{constructor(t){super(t),t.animationState||(t.animationState=zc(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),At(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let Kc=0;class Zc extends xe{constructor(){super(...arguments),this.id=Kc++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&a.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Yc={animation:{Feature:Gc},exit:{Feature:Zc}},jn=(e,t)=>Math.abs(e-t);function Xc(e,t){const s=jn(e.x,t.x),n=jn(e.y,t.y);return Math.sqrt(s**2+n**2)}class Mo{constructor(t,s,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gt(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Xc(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:g}=z;this.history.push({...y,timestamp:g});const{onStart:x,onMove:w}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Wt(p,this.transformPagePoint),F.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Gt(h.type==="pointercancel"?this.lastMoveEventInfo:Wt(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!Wr(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.contextWindow=r||window;const i=Rt(t),l=Wt(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=z;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Gt(l,this.history)),this.removeListeners=fe(ae(this.contextWindow,"pointermove",this.handlePointerMove),ae(this.contextWindow,"pointerup",this.handlePointerUp),ae(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ce(this.updatePoint)}}function Wt(e,t){return t?{point:t(e.point)}:e}function kn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gt({point:e},t){return{point:e,delta:kn(e,Eo(t)),offset:kn(e,Qc(t)),velocity:Jc(t,.1)}}function Qc(e){return e[0]}function Eo(e){return e[e.length-1]}function Jc(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=Eo(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>Ce(t)));)s--;if(!n)return{x:0,y:0};const a=le(r.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(r.x-n.x)/a,y:(r.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Z(e){return e.max-e.min}function ds(e,t=0,s=.01){return Math.abs(e-t)<=s}function Cn(e,t,s,n=.5){e.origin=n,e.originPoint=I(t.min,t.max,e.origin),e.scale=Z(s)/Z(t),(ds(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=I(s.min,s.max,e.origin)-e.originPoint,(ds(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xe(e,t,s,n){Cn(e.x,t.x,s.x,n?n.originX:void 0),Cn(e.y,t.y,s.y,n?n.originY:void 0)}function Sn(e,t,s){e.min=s.min+t.min,e.max=e.min+Z(t)}function eu(e,t,s){Sn(e.x,t.x,s.x),Sn(e.y,t.y,s.y)}function Tn(e,t,s){e.min=t.min-s.min,e.max=e.min+Z(t)}function Qe(e,t,s){Tn(e.x,t.x,s.x),Tn(e.y,t.y,s.y)}function tu(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?I(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?I(s,e,n.max):Math.min(e,s)),e}function Nn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function su(e,{top:t,left:s,bottom:n,right:r}){return{x:Nn(e.x,s,r),y:Nn(e.y,t,n)}}function Pn(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function nu(e,t){return{x:Pn(e.x,t.x),y:Pn(e.y,t.y)}}function ru(e,t){let s=.5;const n=Z(e),r=Z(t);return r>n?s=tt(t.min,t.max-n,e.min):n>r&&(s=tt(e.min,e.max-r,t.min)),me(0,1,s)}function ou(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const hs=.35;function iu(e=hs){return e===!1?e=0:e===!0&&(e=hs),{x:An(e,"left","right"),y:An(e,"top","bottom")}}function An(e,t,s){return{min:Mn(e,t),max:Mn(e,s)}}function Mn(e,t){return typeof e=="number"?e:e[t]||0}const En=()=>({translate:0,scale:1,origin:0,originPoint:0}),De=()=>({x:En(),y:En()}),Rn=()=>({min:0,max:0}),U=()=>({x:Rn(),y:Rn()});function X(e){return[e("x"),e("y")]}function Ro({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function au({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lu(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Kt(e){return e===void 0||e===1}function fs({scale:e,scaleX:t,scaleY:s}){return!Kt(e)||!Kt(t)||!Kt(s)}function ve(e){return fs(e)||Vo(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Vo(e){return Vn(e.x)||Vn(e.y)}function Vn(e){return e&&e!=="0%"}function kt(e,t,s){const n=e-s,r=t*n;return s+r}function Ln(e,t,s,n,r){return r!==void 0&&(e=kt(e,r,n)),kt(e,s,n)+t}function ms(e,t=0,s=1,n,r){e.min=Ln(e.min,t,s,n,r),e.max=Ln(e.max,t,s,n,r)}function Lo(e,{x:t,y:s}){ms(e.x,t.translate,t.scale,t.originPoint),ms(e.y,s.translate,s.scale,s.originPoint)}function cu(e,t,s,n=!1){const r=s.length;if(!r)return;t.x=t.y=1;let a,i;for(let l=0;l<r;l++){a=s[l],i=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ie(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Lo(e,i)),n&&ve(a.latestValues)&&Ie(e,a.latestValues))}t.x=Fn(t.x),t.y=Fn(t.y)}function Fn(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function he(e,t){e.min=e.min+t,e.max=e.max+t}function Dn(e,t,[s,n,r]){const a=t[r]!==void 0?t[r]:.5,i=I(e.min,e.max,a);ms(e,t[s],t[n],i,t.scale)}const uu=["x","scaleX","originX"],du=["y","scaleY","originY"];function Ie(e,t){Dn(e.x,t,uu),Dn(e.y,t,du)}function Fo(e,t){return Ro(lu(e.getBoundingClientRect(),t))}function hu(e,t,s){const n=Fo(e,s),{scroll:r}=t;return r&&(he(n.x,r.offset.x),he(n.y,r.offset.y)),n}const Do=({current:e})=>e?e.ownerDocument.defaultView:null,fu=new WeakMap;class mu{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=U(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Rt(d,"page").point)},a=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Kr(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),X(x=>{let w=this.getAxisMotionValue(x).get()||0;if(te.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[x];b&&(w=Z(b)*(parseFloat(w)/100))}}this.originPoint[x]=w}),y&&F.update(()=>y(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=pu(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>X(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Mo(t,{onSessionStart:r,onStart:a,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Do(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&F.update(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:r}=this.getProps();if(!n||!ht(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=tu(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&Le(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=su(r.layoutBox,s):this.constraints=!1,this.elastic=iu(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&X(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=ou(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Le(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=hu(n,r.root,this.visualElement.getTransformPagePoint());let i=nu(r.layout.layoutBox,a);if(s){const l=s(au(i));this.hasMutatedConstraints=!!l,l&&(i=Ro(l))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=X(d=>{if(!ht(d,s,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(Us(t,n,0,s))}stopAnimation(){X(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){X(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){X(s=>{const{drag:n}=this.getProps();if(!ht(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(s);if(r&&r.layout){const{min:i,max:l}=r.layout.layoutBox[s];a.set(t[s]-I(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Le(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};X(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();r[i]=ru({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),X(i=>{if(!ht(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(I(c,u,r[i]))})}addListeners(){if(!this.visualElement.current)return;fu.set(this.visualElement,this);const t=this.visualElement.current,s=ae(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Le(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();const i=ie(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(X(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=hs,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function ht(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function pu(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class gu extends xe{constructor(t){super(t),this.removeGroupControls=B,this.removeListeners=B,this.controls=new mu(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||B}unmount(){this.removeGroupControls(),this.removeListeners()}}const In=e=>(t,s)=>{e&&F.update(()=>e(t,s))};class xu extends xe{constructor(){super(...arguments),this.removePointerDownListener=B}onPointerDown(t){this.session=new Mo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Do(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:In(t),onStart:In(s),onMove:n,onEnd:(a,i)=>{delete this.session,r&&F.update(()=>r(a,i))}}}mount(){this.removePointerDownListener=ae(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yu(){const e=f.useContext(Nt);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,r=f.useId();return f.useEffect(()=>n(r),[]),!t&&s?[!1,()=>s&&s(r)]:[!0]}const mt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bn(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qe={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(P.test(e))e=parseFloat(e);else return e;const s=Bn(e,t.target.x),n=Bn(e,t.target.y);return`${s}% ${n}%`}},bu={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=pe.parse(e);if(r.length>5)return n;const a=pe.createTransformer(e),i=typeof r[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;r[0+i]/=l,r[1+i]/=c;const u=I(l,c,.5);return typeof r[2+i]=="number"&&(r[2+i]/=u),typeof r[3+i]=="number"&&(r[3+i]/=u),a(r)}};class vu extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=t;Na(wu),a&&(s.group&&s.group.add(a),n&&n.register&&r&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),mt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:r,isPresent:a}=this.props,i=n.projection;return i&&(i.isPresent=a,r||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||F.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Io(e){const[t,s]=yu(),n=f.useContext(Ts);return st.createElement(vu,{...e,layoutGroup:n,switchLayoutGroup:f.useContext(Er),isPresent:t,safeToRemove:s})}const wu={borderRadius:{...qe,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomLeftRadius:qe,borderBottomRightRadius:qe,boxShadow:bu},Bo=["TopLeft","TopRight","BottomLeft","BottomRight"],ju=Bo.length,On=e=>typeof e=="string"?parseFloat(e):e,Un=e=>typeof e=="number"||P.test(e);function ku(e,t,s,n,r,a){r?(e.opacity=I(0,s.opacity!==void 0?s.opacity:1,Cu(n)),e.opacityExit=I(t.opacity!==void 0?t.opacity:1,0,Su(n))):a&&(e.opacity=I(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let i=0;i<ju;i++){const l=`border${Bo[i]}Radius`;let c=Hn(t,l),u=Hn(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Un(c)===Un(u)?(e[l]=Math.max(I(On(c),On(u),n),0),(te.test(u)||te.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=I(t.rotate||0,s.rotate||0,n))}function Hn(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Cu=Oo(0,.5,io),Su=Oo(.5,.95,B);function Oo(e,t,s){return n=>n<e?0:n>t?1:s(tt(e,t,n))}function _n(e,t){e.min=t.min,e.max=t.max}function Y(e,t){_n(e.x,t.x),_n(e.y,t.y)}function $n(e,t,s,n,r){return e-=t,e=kt(e,1/s,n),r!==void 0&&(e=kt(e,1/r,n)),e}function Tu(e,t=0,s=1,n=.5,r,a=e,i=e){if(te.test(t)&&(t=parseFloat(t),t=I(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=I(a.min,a.max,n);e===a&&(l-=t),e.min=$n(e.min,t,s,l,r),e.max=$n(e.max,t,s,l,r)}function zn(e,t,[s,n,r],a,i){Tu(e,t[s],t[n],t[r],t.scale,a,i)}const Nu=["x","scaleX","originX"],Pu=["y","scaleY","originY"];function qn(e,t,s,n){zn(e.x,t,Nu,s?s.x:void 0,n?n.x:void 0),zn(e.y,t,Pu,s?s.y:void 0,n?n.y:void 0)}function Wn(e){return e.translate===0&&e.scale===1}function Uo(e){return Wn(e.x)&&Wn(e.y)}function Au(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Ho(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gn(e){return Z(e.x)/Z(e.y)}class Mu{constructor(){this.members=[]}add(t){Hs(this.members,t),t.scheduleRender()}remove(t){if(_s(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(r=>t===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kn(e,t,s){let n="";const r=e.x.translate/t.x,a=e.y.translate/t.y;if((r||a)&&(n=`translate3d(${r}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:u,rotateY:d}=s;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(n+=`scale(${i}, ${l})`),n||"none"}const Eu=(e,t)=>e.depth-t.depth;class Ru{constructor(){this.children=[],this.isDirty=!1}add(t){Hs(this.children,t),this.isDirty=!0}remove(t){_s(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Eu),this.isDirty=!1,this.children.forEach(t)}}function Vu(e,t){const s=performance.now(),n=({timestamp:r})=>{const a=r-s;a>=t&&(ce(n),e(a-t))};return F.read(n,!0),()=>ce(n)}function Lu(e){window.MotionDebug&&window.MotionDebug.record(e)}function Fu(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Du(e,t,s){const n=G(e)?e:Be(e);return n.start(Us("",n,t,s)),n.animation}const Zn=["","X","Y","Z"],Iu={visibility:"hidden"},Yn=1e3;let Bu=0;const we={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _o({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(i={},l=t?.()){this.id=Bu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,we.totalNodes=we.resolvedTargetDeltas=we.recalculatedProjection=0,this.nodes.forEach(Hu),this.nodes.forEach(Wu),this.nodes.forEach(Gu),this.nodes.forEach(_u),Lu(we)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ru)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new $s),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Fu(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Vu(p,250),mt.hasAnimatedSinceResize&&(mt.hasAnimatedSinceResize=!1,this.nodes.forEach(Qn))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Qu,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=d.getProps(),v=!this.targetLayout||!Ho(this.targetLayout,y)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const k={...Os(g,"layout"),onPlay:x,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||Qn(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ce(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ku),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xn);return}this.isUpdating||this.nodes.forEach(zu),this.isUpdating=!1,this.nodes.forEach(qu),this.nodes.forEach(Ou),this.nodes.forEach(Uu),this.clearAllSnapshots();const l=performance.now();z.delta=me(0,1e3/60,l-z.timestamp),z.timestamp=l,z.isProcessing=!0,Bt.update.process(z),Bt.preRender.process(z),Bt.render.process(z),z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($u),this.sharedNodes.forEach(Zu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,F.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){F.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=U(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!r)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Uo(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||ve(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),Ju(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return U();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(he(l.x,c.offset.x),he(l.y,c.offset.y)),l}removeElementScroll(i){const l=U();Y(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Y(l,i);const{scroll:p}=this.root;p&&(he(l.x,-p.offset.x),he(l.y,-p.offset.y))}he(l.x,d.offset.x),he(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=U();Y(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ie(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ve(d.latestValues)&&Ie(c,d.latestValues)}return ve(this.latestValues)&&Ie(c,this.latestValues),c}removeTransform(i){const l=U();Y(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ve(u.latestValues))continue;fs(u.latestValues)&&u.updateSnapshot();const d=U(),h=u.measurePageBox();Y(d,h),qn(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ve(this.latestValues)&&qn(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=z.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=U(),this.relativeTargetOrigin=U(),Qe(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Y(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=U(),this.targetWithTransforms=U()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Y(this.target,this.layout.layoutBox),Lo(this.target,this.targetDelta)):Y(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=U(),this.relativeTargetOrigin=U(),Qe(this.relativeTargetOrigin,this.target,m.target),Y(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}we.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fs(this.parent.latestValues)||Vo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===z.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Y(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;cu(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=De(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=De(),this.projectionDeltaWithTransform=De());const g=this.projectionTransform;Xe(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Kn(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),we.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=De();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=U(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,x=this.getStack(),w=!x||x.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(Xu));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const S=k/1e3;Jn(h.x,i.x,S),Jn(h.y,i.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qe(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yu(this.relativeTarget,this.relativeTargetOrigin,p,S),b&&Au(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=U()),Y(b,this.relativeTarget)),g&&(this.animationValues=d,ku(d,u,this.latestValues,S,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ce(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=F.update(()=>{mt.hasAnimatedSinceResize=!0,this.currentAnimation=Du(0,Yn,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yn),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&$o(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||U();const h=Z(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const p=Z(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}Y(l,c),Ie(l,d),Xe(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Mu),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Zn.length;d++){const h="rotate"+Zn[d];c[h]&&(u[h]=c[h],i.setStaticValue(h,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Iu;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ft(i?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ft(i?.pointerEvents)||""),this.hasProjected&&!ve(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Kn(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in gt){if(p[g]===void 0)continue;const{correct:x,applyTo:w}=gt[g],v=u.transform==="none"?p[g]:x(p[g],h);if(w){const b=w.length;for(let k=0;k<b;k++)u[w[k]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=h===this?ft(i?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Xn),this.root.sharedNodes.clear()}}}function Ou(e){e.updateLayout()}function Uu(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,i=s.source!==e.layout.source;a==="size"?X(h=>{const p=i?s.measuredBox[h]:s.layoutBox[h],m=Z(p);p.min=n[h].min,p.max=p.min+m}):$o(a,s.layoutBox,n)&&X(h=>{const p=i?s.measuredBox[h]:s.layoutBox[h],m=Z(n[h]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=De();Xe(l,n,s.layoutBox);const c=De();i?Xe(c,e.applyTransform(r,!0),s.measuredBox):Xe(c,n,s.layoutBox);const u=!Uo(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=U();Qe(y,s.layoutBox,p.layoutBox);const g=U();Qe(g,n,m.layoutBox),Ho(y,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Hu(e){we.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _u(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $u(e){e.clearSnapshot()}function Xn(e){e.clearMeasurements()}function zu(e){e.isLayoutDirty=!1}function qu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qn(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wu(e){e.resolveTargetDelta()}function Gu(e){e.calcProjection()}function Ku(e){e.resetRotation()}function Zu(e){e.removeLeadSnapshot()}function Jn(e,t,s){e.translate=I(t.translate,0,s),e.scale=I(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function er(e,t,s,n){e.min=I(t.min,s.min,n),e.max=I(t.max,s.max,n)}function Yu(e,t,s,n){er(e.x,t.x,s.x,n),er(e.y,t.y,s.y,n)}function Xu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Qu={duration:.45,ease:[.4,0,.1,1]},tr=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),sr=tr("applewebkit/")&&!tr("chrome/")?Math.round:B;function nr(e){e.min=sr(e.min),e.max=sr(e.max)}function Ju(e){nr(e.x),nr(e.y)}function $o(e,t,s){return e==="position"||e==="preserve-aspect"&&!ds(Gn(t),Gn(s),.2)}const ed=_o({attachResizeListener:(e,t)=>ie(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zt={current:void 0},zo=_o({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zt.current){const e=new ed({});e.mount(window),e.setOptions({layoutScroll:!0}),Zt.current=e}return Zt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),td={pan:{Feature:xu},drag:{Feature:gu,ProjectionNode:zo,MeasureLayout:Io}},sd=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nd(e){const t=sd.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function ps(e,t,s=1){const[n,r]=nd(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return To(i)?parseFloat(i):i}else return rs(r)?ps(r,t,s+1):r}function rd(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(r=>{const a=r.get();if(!rs(a))return;const i=ps(a,n);i&&r.set(i)});for(const r in t){const a=t[r];if(!rs(a))continue;const i=ps(a,n);i&&(t[r]=i,s||(s={}),s[r]===void 0&&(s[r]=a))}return{target:t,transitionEnd:s}}const od=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qo=e=>od.has(e),id=e=>Object.keys(e).some(qo),rr=e=>e===Ne||e===P,or=(e,t)=>parseFloat(e.split(", ")[t]),ir=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/);if(r)return or(r[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?or(a[1],e):0}},ad=new Set(["x","y","z"]),ld=nt.filter(e=>!ad.has(e));function cd(e){const t=[];return ld.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Oe={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ir(4,13),y:ir(5,14)};Oe.translateX=Oe.x;Oe.translateY=Oe.y;const ud=(e,t,s)=>{const n=t.measureViewportBox(),r=t.current,a=getComputedStyle(r),{display:i}=a,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(u=>{l[u]=Oe[u](n,a)}),t.render();const c=t.measureViewportBox();return s.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Oe[u](c,a)}),e},dd=(e,t,s={},n={})=>{t={...t},n={...n};const r=Object.keys(t).filter(qo);let a=[],i=!1;const l=[];if(r.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=s[c],h=ze(d);const p=t[c];let m;if(yt(p)){const y=p.length,g=p[0]===null?1:0;d=p[g],h=ze(d);for(let x=g;x<y&&p[x]!==null;x++)m?Ls(ze(p[x])===m):m=ze(p[x])}else m=ze(p);if(h!==m)if(rr(h)&&rr(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===P&&(t[c]=p.map(parseFloat))}else h?.transform&&m?.transform&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=h.transform(p):(i||(a=cd(e),i=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=ud(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Pt&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function hd(e,t,s,n){return id(t)?dd(e,t,s,n):{target:t,transitionEnd:n}}const fd=(e,t,s,n)=>{const r=rd(e,t,n);return t=r.target,n=r.transitionEnd,hd(e,t,s,n)},gs={current:null},Wo={current:!1};function md(){if(Wo.current=!0,!!Pt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gs.current=e.matches;e.addListener(t),t()}else gs.current=!1}function pd(e,t,s){const{willChange:n}=t;for(const r in t){const a=t[r],i=s[r];if(G(a))e.addValue(r,a),jt(n)&&n.add(r);else if(G(i))e.addValue(r,Be(a,{owner:e})),jt(n)&&n.remove(r);else if(i!==a)if(e.hasValue(r)){const l=e.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(r);e.addValue(r,Be(l!==void 0?l:a,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const ar=new WeakMap,Go=Object.keys(et),gd=Go.length,lr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xd=Ss.length;class yd{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:r,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>F.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=i,this.isControllingVariants=Mt(s),this.isVariantNode=Mr(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(s,{});for(const h in d){const p=d[h];l[h]!==void 0&&G(p)&&(p.set(l[h],!1),jt(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,ar.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Wo.current||md(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gs.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ar.delete(this.current),this.projection&&this.projection.unmount(),ce(this.notifyUpdate),ce(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=Te.has(t),r=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&F.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,r,a){let i,l;for(let c=0;c<gd;c++){const u=Go[c],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:m}=et[u];p&&(i=p),d(s)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:m}=s;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Le(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):U()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<lr.length;n++){const r=lr[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=t["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=pd(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<xd;n++){const r=Ss[n],a=this.props[r];(Je(a)||a===!1)&&(s[r]=a)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Be(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,r=typeof n=="string"||typeof n=="object"?(s=Vs(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!G(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new $s),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Ko extends yd{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:r},a){let i=Fc(n,t||{},this);if(r&&(s&&(s=r(s)),n&&(n=r(n)),i&&(i=r(i))),a){Vc(this,n,i);const l=fd(this,n,i,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function bd(e){return window.getComputedStyle(e)}class vd extends Ko{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Te.has(s)){const n=Bs(s);return n&&n.default||0}else{const n=bd(t),r=(Lr(s)?n.getPropertyValue(s):n[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Fo(t,s)}build(t,s,n,r){Ps(t,s,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Rs(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;G(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,r){Ur(t,s,n,r)}}class wd extends Ko{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Te.has(s)){const n=Bs(s);return n&&n.default||0}return s=Hr.has(s)?s:ks(s),t.getAttribute(s)}measureInstanceViewportBox(){return U()}scrapeMotionValuesFromProps(t,s){return $r(t,s)}build(t,s,n,r){Ms(t,s,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,n,r){_r(t,s,n,r)}mount(t){this.isSVGTag=Es(t.tagName),super.mount(t)}}const jd=(e,t)=>Ns(e)?new wd(t,{enableHardwareAcceleration:!1}):new vd(t,{enableHardwareAcceleration:!0}),kd={layout:{ProjectionNode:zo,MeasureLayout:Io}},Cd={...Yc,...gl,...td,...kd},V=Sa((e,t)=>nl(e,t,Cd,jd));function Zo(){const e=f.useRef(!1);return js(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Sd(){const e=Zo(),[t,s]=f.useState(0),n=f.useCallback(()=>{e.current&&s(t+1)},[t]);return[f.useCallback(()=>F.postRender(n),[n]),t]}class Td extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Nd({children:e,isPresent:t}){const s=f.useId(),n=f.useRef(null),r=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:a,height:i,top:l,left:c}=r.current;if(t||!n.current||!a||!i)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),f.createElement(Td,{isPresent:t,childRef:n,sizeRef:r},f.cloneElement(e,{ref:n}))}const Yt=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:a,mode:i})=>{const l=zr(Pd),c=f.useId(),u=f.useMemo(()=>({id:c,initial:t,isPresent:s,custom:r,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[s]);return f.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[s]),f.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),i==="popLayout"&&(e=f.createElement(Nd,{isPresent:s},e)),f.createElement(Nt.Provider,{value:u},e)};function Pd(){return new Map}function Ad(e){return f.useEffect(()=>()=>e(),[])}const je=e=>e.key||"";function Md(e,t){e.forEach(s=>{const n=je(s);t.set(n,s)})}function Ed(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const cr=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:i="sync"})=>{const l=f.useContext(Ts).forceRender||Sd()[0],c=Zo(),u=Ed(e);let d=u;const h=f.useRef(new Map).current,p=f.useRef(d),m=f.useRef(new Map).current,y=f.useRef(!0);if(js(()=>{y.current=!1,Md(u,m),p.current=d}),Ad(()=>{y.current=!0,m.clear(),h.clear()}),y.current)return f.createElement(f.Fragment,null,d.map(v=>f.createElement(Yt,{key:je(v),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:a,mode:i},v)));d=[...d];const g=p.current.map(je),x=u.map(je),w=g.length;for(let v=0;v<w;v++){const b=g[v];x.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((v,b)=>{if(x.indexOf(b)!==-1)return;const k=m.get(b);if(!k)return;const S=g.indexOf(b);let M=v;if(!M){const T=()=>{h.delete(b);const N=Array.from(m.keys()).filter(R=>!x.includes(R));if(N.forEach(R=>m.delete(R)),p.current=u.filter(R=>{const W=je(R);return W===b||N.includes(W)}),!h.size){if(c.current===!1)return;l(),n&&n()}};M=f.createElement(Yt,{key:je(k),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:a,mode:i},k),h.set(b,M)}d.splice(S,0,M)}),d=d.map(v=>{const b=v.key;return h.has(b)?v:f.createElement(Yt,{key:je(v),isPresent:!0,presenceAffectsLayout:a,mode:i},v)}),f.createElement(f.Fragment,null,h.size?d:d.map(v=>f.cloneElement(v)))};function Rd({onClose:e}){const{user:t,logout:s}=ws(),{openExternalUrl:n,getUserProfile:r,refreshAuth:a}=ge(),[i,l]=f.useState(null),[c,u]=f.useState(!1);f.useEffect(()=>{d()},[]);const d=async()=>{try{const g=await r?.();l(g||t)}catch(g){console.error("Failed to load profile data:",g),l(t)}},h=async()=>{u(!0);try{(await a?.())?.success&&await d()}catch(g){console.error("Failed to refresh profile:",g)}finally{u(!1)}},p=async()=>{await s(),e()},m=()=>{n?.("https://equators.tech/account"),e()},y=i||t;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs(V.div,{className:"bg-[#1a1a1a] rounded-lg p-6 max-w-md w-full shadow-xl",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Your Profile"}),o.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",onClick:e,children:o.jsx(St,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[y?.avatar?o.jsx("img",{src:y.avatar,alt:y.username,className:"w-16 h-16 rounded-full border-2 border-gray-600"}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center",children:o.jsx(jr,{className:"w-10 h-10 text-gray-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:y?.name||y?.username||"User"}),y?.email&&o.jsx("p",{className:"text-gray-400 text-sm",children:y.email}),y?.subscriptionTier&&o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(Ys,{className:"w-4 h-4 text-blue-400 mr-1"}),o.jsxs("span",{className:"text-xs text-blue-400 capitalize",children:[y.subscriptionTier," Plan"]})]})]})]}),(y?.hfUsername||y?.subscriptionTier)&&o.jsxs("div",{className:"bg-[#2a2a2a] rounded-lg p-4",children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Account Details"}),o.jsxs("div",{className:"space-y-2",children:[y.hfUsername&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"HuggingFace:"}),o.jsxs("span",{className:"text-white text-sm",children:["@",y.hfUsername]})]}),y.subscriptionTier&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"Plan:"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(vr,{className:"w-3 h-3 text-yellow-500 mr-1"}),o.jsx("span",{className:"text-white text-sm capitalize",children:y.subscriptionTier})]})]}),y.lastUpdated&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"Last sync:"}),o.jsx("span",{className:"text-white text-sm",children:new Date(y.lastUpdated).toLocaleDateString()})]})]})]}),o.jsx("div",{className:"bg-[#2a2a2a] border border-[#3a3a3a] rounded-lg p-4 text-sm text-gray-400",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Ys,{className:"w-4 h-4 text-green-400 mr-2 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-400 font-medium mb-1",children:"Privacy First"}),o.jsx("p",{children:"Your chats and data stay completely local. Login is only used for model downloads and cloud features."})]})]})}),o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-md flex items-center justify-center transition-colors",onClick:m,children:[o.jsx(Ui,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"Manage Account"})]}),o.jsx("button",{onClick:h,disabled:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-md transition-colors",title:"Refresh profile data",children:c?o.jsx("div",{className:"w-4 h-4 border border-transparent border-t-white rounded-full animate-spin"}):"↻"})]}),o.jsxs("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md flex items-center justify-center transition-colors",onClick:p,children:[o.jsx(xi,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})})}function Vd(){const{user:e,isAuthenticated:t,isLoading:s}=ws(),[n,r]=f.useState(!1),a=()=>{r(!0)},i=()=>{r(!1)},l=Cr("w-10 h-10 flex items-center justify-center rounded-lg hover:bg-[#2a2a2a] transition-colors cursor-pointer",t?"text-blue-400":"text-gray-400");return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:l,onClick:a,title:t?"Profile":"Login",children:s?o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-t-transparent border-blue-500 animate-spin"}):t&&e?.avatar?o.jsx("img",{src:e.avatar,alt:e.username,className:"w-6 h-6 rounded-full"}):o.jsx(jr,{className:"w-6 h-6"})}),n&&(t?o.jsx(Rd,{onClose:i}):o.jsx(pa,{onClose:i}))]})}function Ld(){ii().pathname;const t=({isActive:s})=>Cr("w-10 h-10 mb-4 flex items-center justify-center rounded-lg hover:bg-[#2a2a2a] transition-colors",s?"bg-[#2a2a2a] text-white":"text-gray-400");return o.jsxs("div",{className:"w-16 flex-shrink-0 bg-[#0c0c0c] flex flex-col items-center py-4 border-r border-[#2a2a2a]",children:[o.jsx(at,{to:"/chat",className:t,children:o.jsx(bi,{className:"w-6 h-6"})}),o.jsx(at,{to:"/models",className:t,children:o.jsx(Ai,{className:"w-6 h-6"})}),o.jsx(at,{to:"/history",className:t,children:o.jsx(Ti,{className:"w-6 h-6"})}),o.jsx("div",{className:"flex-grow"}),o.jsx(Vd,{}),o.jsx(at,{to:"/settings",className:t,children:o.jsx(xr,{className:"w-6 h-6"})})]})}function Fd(){const e=bs(),{onNavigate:t,isDevelopment:s}=ge();return f.useEffect(()=>!t||s?void 0:t(r=>{e(r)}),[e,t,s]),o.jsx(ma,{children:o.jsxs("div",{className:"app flex h-screen bg-vscode-panel",children:[o.jsx(Ld,{}),o.jsx(V.div,{className:"content flex-1 overflow-auto",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:o.jsx(ai,{})})]})})}const Dd={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}};function Id({role:e,content:t}){return o.jsxs("div",{className:`message p-4 ${e==="user"?"bg-[#252525]":"bg-[#1a1a1a]"}`,children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${e==="user"?"bg-blue-600":"bg-green-600"}`,children:e==="user"?"U":"A"}),o.jsx("span",{className:"ml-2 text-sm font-medium text-gray-300",children:e==="user"?"You":"Assistant"})]}),o.jsx(si,{children:t,components:{code({node:s,inline:n,className:r,children:a,...i}){const l=/language-(\w+)/.exec(r||"");return!n&&l?o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>navigator.clipboard.writeText(String(a)),className:"absolute top-2 right-2 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-gray-300 px-2 py-1 rounded text-xs",children:"Copy"}),o.jsx(ni,{style:Dd,language:l[1],PreTag:"div",className:"!bg-[#0c0c0c] !p-4 rounded-lg border border-[#2a2a2a]",...i,children:String(a).replace(/\n$/,"")})]}):o.jsx("code",{className:r,...i,children:a})},p:({children:s})=>o.jsx("p",{className:"text-sm text-gray-200",children:s}),ul:({children:s})=>o.jsx("ul",{className:"list-disc list-inside text-sm text-gray-200",children:s}),ol:({children:s})=>o.jsx("ol",{className:"list-decimal list-inside text-sm text-gray-200",children:s}),li:({children:s})=>o.jsx("li",{className:"ml-4",children:s}),a:({children:s,href:n})=>o.jsx("a",{href:n,className:"text-blue-400 hover:underline",children:s})}})]})}const Bd=({messages:e})=>o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto",children:e&&e.length>0?o.jsx("div",{className:"divide-y divide-[#2a2a2a]",children:e.map((t,s)=>o.jsx(Id,{role:t.role,content:t.content,timestamp:t.timestamp},s))}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center p-8 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"👋"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Welcome to Equators Chat"}),o.jsx("p",{className:"text-gray-400",children:"Start a conversation with your local AI assistant"})]})})})});function zs({children:e,variant:t="primary",size:s="md",className:n="",disabled:r,...a}){const i={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"hover:bg-[#2a2a2a] text-gray-300 hover:text-white"},l={sm:"px-2.5 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3"};return o.jsx("button",{className:`
        ${i[t]}
        ${l[s]}
        rounded-lg
        font-medium
        transition-colors
        focus:outline-none
        focus:ring-2
        focus:ring-blue-500
        focus:ring-offset-2
        focus:ring-offset-[#1a1a1a]
        disabled:opacity-50
        disabled:cursor-not-allowed
        ${n}
      `,disabled:r,...a,children:e})}function Od({onSend:e}){const[t,s]=f.useState(""),n=r=>{r.preventDefault(),t.trim()&&(e(t),s(""))};return o.jsx("div",{className:"chat-input border-t border-[#2a2a2a] bg-[#1a1a1a]",children:o.jsx("form",{onSubmit:n,className:"max-w-4xl mx-auto p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("textarea",{value:t,onChange:r=>s(r.target.value),onKeyDown:r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),n(r))},placeholder:"Message Equators Chatbot...",className:"w-full py-3 px-4 bg-[#2a2a2a] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:1,style:{minHeight:"44px",maxHeight:"200px"}}),o.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1 text-xs text-gray-400",children:[o.jsx("span",{className:"px-1.5 py-0.5 rounded bg-[#3a3a3a]",children:"⏎"}),o.jsx("span",{children:"to send"})]})]}),o.jsx(zs,{onClick:n,className:"h-11 px-6 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center justify-center transition-colors",children:"Send"})]})})})}function Ud({messages:e,onSend:t,model:s}){return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"px-4 py-2 bg-[#1a1a1a] border-b border-[#2a2a2a] text-sm text-gray-300",children:s?`Active Model: ${s}`:"No model selected"}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(Bd,{messages:e})}),o.jsx(Od,{onSend:t})]})}function J(){return o.jsx("div",{className:"spinner border-4 border-blue-500 border-t-transparent rounded-full w-6 h-6 animate-spin"})}function Xt(){const{modelId:e}=li(),t=bs(),{isApiReady:s,isDevelopment:n}=f.useContext(Se),[r,a]=f.useState([]),[i,l]=f.useState(""),[c,u]=f.useState(null),[d,h]=f.useState([]),[p,m]=f.useState(!1),[y,g]=f.useState(null);f.useEffect(()=>{n&&console.info("Running in development mode with mock Electron API")},[n]),f.useEffect(()=>{(async()=>{if(!s){g("Electron API not available. Please check application setup.");return}try{const b=(await window.electronAPI.getAvailableModels({})).filter(k=>k.isInstalled);if(h(b),!e)b.length===0?t("/models"):t(`/chat/${b[0].id}`);else{const k=b.find(S=>S.id===e);k?u(k):(g("Selected model is not available"),t("/models"))}}catch(v){console.error("Failed to load models:",v),g("Failed to load available models")}})()},[s,e,t]);const x=async w=>{if(!w.trim()||!c)return;const v={role:"user",content:w,timestamp:new Date};a(b=>[...b,v]),l(""),m(!0),g(null);try{const b=await window.electronAPI.runInference({modelId:c,message:w});if(b.error)throw new Error(b.error);const k={role:"bot",content:b.response,timestamp:new Date};a(S=>[...S,k])}catch(b){console.error("Inference failed:",b),g(`Failed to get response: ${b.message}`)}finally{m(!1)}};return!c&&!p?o.jsx(V.div,{className:"chat-page p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:o.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Select a Model"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Please select a model from the Models page to start chatting."}),o.jsx("button",{onClick:()=>t("/models"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Models"})]})}):o.jsxs(V.div,{className:"chat-page p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y&&o.jsx(V.div,{className:"error-message p-4 bg-red-900/50 text-red-200 rounded-lg mb-6",initial:{opacity:0},animate:{opacity:1},children:y}),p&&o.jsx("div",{className:"flex justify-center",children:o.jsx(J,{className:"w-6 h-6 text-blue-500"})}),o.jsx(Ud,{messages:r,onSend:x,model:d.find(w=>w.id===c)?.name})]})}var Qt={exports:{}},Jt,ur;function Hd(){if(ur)return Jt;ur=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jt=e,Jt}var es,dr;function _d(){if(dr)return es;dr=1;var e=Hd();function t(){}function s(){}return s.resetWarningCache=t,es=function(){function n(i,l,c,u,d,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function r(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:t};return a.PropTypes=a,a},es}var hr;function $d(){return hr||(hr=1,Qt.exports=_d()()),Qt.exports}var zd=$d();const j=ys(zd);function qd({title:e,titleId:t,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Wd=f.forwardRef(qd);function Ct({model:e,systemInfo:t,isActive:s,onDownload:n,onActivate:r,onDelete:a,onClick:i,onFavorite:l,isFavorite:c}){const u=m=>{if(!m||isNaN(Number(m)))return"Unknown";const y=Number(m),g=["B","KB","MB","GB","TB"];let x=y,w=0;for(;x>=1024&&w<g.length-1;)x/=1024,w++;return`${x.toFixed(2)} ${g[w]}`},d=m=>{if(!m)return"Unknown";const y=new Date(m),x=Math.abs(new Date-y),w=Math.ceil(x/(1e3*60*60*24));return w===1?"Yesterday":w<30?`${w} days ago`:w<365?`${Math.floor(w/30)} months ago`:`${Math.floor(w/365)} years ago`},h=e.id?.split("/")[0]||"Unknown",p=e.name||e.id?.split("/").pop()||e.modelId||"Unnamed Model";return o.jsxs(V.div,{className:"bg-[#2a2a2a] border border-[#3a3a3a] rounded-xl p-5 flex flex-col space-y-4 cursor-pointer hover:border-blue-500 hover:shadow-lg transition-all relative group",onClick:i,whileHover:{y:-2},transition:{duration:.2},children:[e.id?.includes("/")&&!e?.isInstalled&&o.jsx("div",{className:"absolute top-4 right-4 z-10 opacity-60 group-hover:opacity-80 transition-opacity",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 95 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M29.2269 83.2484C26.8889 83.2484 24.7579 82.3232 23.199 80.7494C21.6548 79.1755 20.7379 77.0222 20.7379 74.6558V49.2789H29.3453V74.6558C29.3453 74.9385 29.4636 75.2359 29.7003 75.4477C29.9223 75.6742 30.2324 75.7929 30.5426 75.7929C30.8527 75.7929 31.1629 75.6742 31.3849 75.4477C31.6216 75.2359 31.7399 74.9385 31.7399 74.6558V27.1338C31.7399 24.7822 32.6715 22.6289 34.201 21.0403C35.7599 19.4664 37.8909 18.5412 40.2143 18.5412C42.5524 18.5412 44.6834 19.4664 46.2423 21.0403C47.7865 22.6289 48.7034 24.7674 48.7034 27.1338V48.0264H40.0963V27.1338C40.0963 26.8511 39.978 26.5537 39.7413 26.342C39.5193 26.1154 39.2092 25.9967 38.899 25.9967C38.5889 25.9967 38.2788 26.1154 38.0568 26.342C37.8201 26.5537 37.7018 26.8511 37.7018 27.1338V74.6558C37.7018 77.0074 36.7701 79.1608 35.2406 80.7494C33.6818 82.3232 31.5508 83.2484 29.2274 83.2484H29.2269Z",fill:"white"}),o.jsx("path",{d:"M67.5003 83.2336C62.7542 83.2336 58.9526 79.4605 58.9526 74.6867V27.1338C58.9526 22.36 62.7542 18.5869 67.5003 18.5869C72.2464 18.5869 76.048 22.36 76.048 27.1338V48.0264H67.4856V74.6867C67.4856 74.9693 67.3673 75.2667 67.1306 75.4785C66.9086 75.705 66.5985 75.8237 66.2883 75.8237C65.9782 75.8237 65.6681 75.705 65.4461 75.4785C65.2094 75.2667 65.0911 74.9693 65.0911 74.6867V49.2789H76.048V74.6867C76.048 79.4605 72.2464 83.2336 67.5003 83.2336ZM67.5003 40.5784H67.4856V27.1338C67.4856 26.8511 67.3673 26.5537 67.1306 26.342C66.9086 26.1154 66.5985 25.9967 66.2883 25.9967C65.9782 25.9967 65.6681 26.1154 65.4461 26.342C65.2094 26.5537 65.0911 26.8511 65.0911 27.1338V40.5784H67.5003Z",fill:"white"}),o.jsx("path",{d:"M7.24773 65.4994C3.17086 65.4994 0 62.3286 0 58.2517V33.4649C0 29.3881 3.17086 26.2172 7.24773 26.2172C11.3246 26.2172 14.4955 29.3881 14.4955 33.4649V58.2517C14.4955 62.3286 11.3246 65.4994 7.24773 65.4994ZM7.24773 33.6736C7.24773 33.6736 7.24773 33.6736 7.24773 33.6736C7.24773 33.6736 7.24773 33.6736 7.24773 33.6736Z",fill:"white"}),o.jsx("path",{d:"M7.24773 20.2512C3.30473 20.2512 0 16.9465 0 12.9888C0 9.0459 3.30473 5.72632 7.24773 5.72632C11.1907 5.72632 14.4955 9.0459 14.4955 12.9888C14.4955 16.9465 11.1907 20.2512 7.24773 20.2512Z",fill:"white"}),o.jsx("path",{d:"M87.7523 65.4994C83.6754 65.4994 80.5045 62.3286 80.5045 58.2517V33.4649C80.5045 29.3881 83.6754 26.2172 87.7523 26.2172C91.8292 26.2172 95.0001 29.3881 95.0001 33.4649V58.2517C95.0001 62.3286 91.8292 65.4994 87.7523 65.4994ZM87.7523 33.6736C87.7523 33.6736 87.7523 33.6736 87.7523 33.6736C87.7523 33.6736 87.7523 33.6736 87.7523 33.6736Z",fill:"white"}),o.jsx("path",{d:"M87.7523 20.2512C83.8093 20.2512 80.5045 16.9465 80.5045 12.9888C80.5045 9.0459 83.8093 5.72632 87.7523 5.72632C91.6953 5.72632 95 9.0459 95 12.9888C95 16.9465 91.6953 20.2512 87.7523 20.2512Z",fill:"white"}),o.jsx("path",{d:"M48.3295 83.2041C44.2526 83.2041 41.0818 80.0333 41.0818 75.9564V65.0185C41.0818 60.9416 44.2526 57.7708 48.3295 57.7708C52.4064 57.7708 55.5773 60.9416 55.5773 65.0185V75.9564C55.5773 80.0333 52.4064 83.2041 48.3295 83.2041ZM48.3295 65.2272C48.3295 65.2272 48.3295 65.2272 48.3295 65.2272C48.3295 65.2272 48.3295 65.2272 48.3295 65.2272Z",fill:"white"})]})}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center min-w-0 flex-1 pr-4",children:[e.avatar_url?o.jsx("img",{src:e.avatar_url,alt:h,className:"w-10 h-10 rounded-full mr-3 flex-shrink-0 border-2 border-gray-600"}):o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mr-3 flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:h[0]?.toUpperCase()}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:"text-white font-semibold text-base truncate leading-tight",children:p}),o.jsx("p",{className:"text-sm text-gray-400 truncate",children:h})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[l&&e?.id&&o.jsx("button",{onClick:m=>{m.stopPropagation(),l(e.id)},className:"text-gray-400 hover:text-red-500 transition-colors p-1.5 rounded-full hover:bg-red-500 hover:bg-opacity-10",title:c?"Remove from liked models":"Add to liked models",children:c?o.jsx(Wd,{className:"w-4 h-4 text-red-500"}):o.jsx(yr,{className:"w-4 h-4"})}),e?.isInstalled&&o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{className:"bg-green-500 bg-opacity-20 border border-green-500 rounded-full px-2 py-1 text-xs text-green-500 font-medium flex items-center",children:[o.jsx(gr,{className:"w-3 h-3 text-green-500 mr-1"}),"Installed"]})})]})]}),o.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 leading-relaxed",children:e?.description||"No description available"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.pipeline_tag&&o.jsx("span",{className:"px-2 py-1 bg-purple-500 bg-opacity-20 border border-purple-500 text-purple-300 text-xs rounded-full font-medium",children:e.pipeline_tag.replace("-"," ").replace(/\b\w/g,m=>m.toUpperCase())}),e.library_name&&o.jsx("span",{className:"px-2 py-1 bg-blue-500 bg-opacity-20 border border-blue-500 text-blue-300 text-xs rounded-full font-medium",children:e.library_name}),e.parameters&&e.parameters!=="Unknown"&&o.jsx("span",{className:"px-2 py-1 bg-green-500 bg-opacity-20 border border-green-500 text-green-300 text-xs rounded-full font-medium",children:e.parameters}),e.quant&&e.quant!=="Unknown"&&o.jsx("span",{className:"px-2 py-1 bg-orange-500 bg-opacity-20 border border-orange-500 text-orange-300 text-xs rounded-full font-medium",children:e.quant})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Size:"}),o.jsx("span",{className:"text-gray-300 font-medium",children:u(e.size)})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"License:"}),o.jsx("span",{className:"text-gray-300 font-medium",children:e.license||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1",children:[o.jsxs("div",{className:"flex items-center text-gray-500",children:[o.jsx(Gs,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"text-sm",children:typeof e.downloads=="number"?e.downloads.toLocaleString():"N/A"})]}),typeof e.likes=="number"&&e.likes>0&&o.jsxs("div",{className:"flex items-center text-gray-500",children:[o.jsx(vr,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"text-sm",children:e.likes.toLocaleString()})]})]}),(e.lastModified||e.downloadedAt)&&o.jsxs("div",{className:"text-xs text-gray-500 pt-1 border-t border-gray-700",children:[e.lastModified&&o.jsxs("div",{children:["Updated: ",d(e.lastModified)]}),e.downloadedAt&&o.jsxs("div",{children:["Installed: ",d(e.downloadedAt)]})]})]}),o.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-[#3a3a3a]",children:[!e.isInstalled&&n&&o.jsxs(V.button,{className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center font-medium",onClick:m=>{m.stopPropagation(),n(e.id,`${p}.Q4_K_M.gguf`)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(Gs,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"Download"})]}),e.isInstalled&&o.jsxs("div",{className:"flex space-x-2 w-full",children:[o.jsxs("button",{className:"flex-1 px-3 py-2 bg-gray-700 text-white text-sm rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center",onClick:m=>{m.stopPropagation(),window.electronAPI?.openModelsFolder()},title:"Open models folder",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})}),o.jsx("span",{children:"Open"})]}),a&&o.jsxs("button",{className:"flex-1 px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center",onClick:m=>{m.stopPropagation(),a()},title:"Delete this model",children:[o.jsx(wr,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"Delete"})]})]}),!s&&e.isInstalled&&r&&o.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors flex items-center",onClick:m=>{m.stopPropagation(),r(e.id)},children:[o.jsx(zi,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"Activate"})]})]})]})}Ct.propTypes={model:j.shape({id:j.string,name:j.string,modelId:j.string,description:j.string,tags:j.arrayOf(j.string),quant:j.string,parameters:j.string,size:j.oneOfType([j.number,j.string]),license:j.string,downloads:j.number,likes:j.number,library_name:j.string,pipeline_tag:j.string,avatar_url:j.string,lastModified:j.string,downloadedAt:j.string,isInstalled:j.bool}).isRequired,systemInfo:j.object,isActive:j.bool,onDownload:j.func,onActivate:j.func,onDelete:j.func,onClick:j.func,onFavorite:j.func,isFavorite:j.bool};class Gd extends f.Component{constructor(t){super(t),this.state={hasError:!1,errorMessage:""}}static getDerivedStateFromError(t){return{hasError:!0,errorMessage:t.toString()}}componentDidCatch(t,s){console.error("Error caught by boundary:",t,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.errorMessage):o.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-800 rounded-md text-red-200",children:[o.jsx("h3",{className:"text-sm font-medium mb-2",children:"Something went wrong"}),this.state.errorMessage&&o.jsx("div",{className:"text-xs opacity-80 overflow-auto max-h-32",children:this.state.errorMessage})]}):this.props.children}}function Kd({models:e=[]}){if(!Array.isArray(e))return null;const t=e.filter(s=>s&&s.downloadProgress!==void 0&&s.downloadProgress<100);return t.length===0?null:o.jsxs("div",{className:"fixed bottom-0 right-0 w-96 bg-[#1a1a1a] border-l border-t border-[#2a2a2a] shadow-lg",children:[o.jsx("div",{className:"p-4 border-b border-[#2a2a2a]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-pulse w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("h2",{className:"text-sm font-medium text-white",children:"Download Queue"})]}),o.jsxs("span",{className:"text-xs text-gray-400 bg-[#252525] px-2 py-1 rounded",children:[t.length," active"]})]})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map(s=>o.jsx("div",{className:"p-4 border-b border-[#2a2a2a] hover:bg-[#252525] transition-colors",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(J,{className:"h-4 w-4 text-blue-400 mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-white truncate",children:s.name}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"text-xs text-gray-400 tabular-nums",children:[s.downloadProgress.toFixed(1),"%"]})})]}),o.jsx("div",{className:"w-full bg-[#0c0c0c] rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-blue-600 h-1 transition-all duration-300",style:{width:`${s.downloadProgress}%`}})}),o.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Estimated time: Calculating..."})]})]})},s.id))})]})}function Zd(e){return o.jsx(Gd,{fallback:t=>o.jsxs("div",{className:"fixed bottom-0 right-0 w-96 bg-[#1a1a1a] border-l border-t border-[#2a2a2a] shadow-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.jsx("div",{className:"text-amber-400 text-sm font-medium",children:"Download queue unavailable"})]}),o.jsx("div",{className:"text-xs text-gray-400",children:"Error loading download queue. You can still use the application normally."}),t&&o.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-xs text-gray-400 overflow-x-auto max-h-24",children:t.toString()})]}),children:o.jsx(Kd,{...e})})}function Yo({installedModels:e,systemInfo:t,selectedModel:s,onModelClick:n,onDelete:r,onFavorite:a,favoriteModels:i,onAddLocalModel:l,isLocalModelLoading:c}){return o.jsx("div",{className:"space-y-6",children:e.length>0?o.jsx(V.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05},children:e.map(u=>o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:o.jsx(Ct,{model:{...u,id:u.id||u._id,name:u.name||u.id?.split("/").pop()||"Unnamed Model",isInstalled:!0},systemInfo:t,isActive:s?.id===(u.id||u._id),onClick:()=>n(u),onDownload:null,onDelete:()=>{window.confirm(`Are you sure you want to delete ${u.name||"this model"}?`)&&r(u.id||u._id)},onFavorite:()=>a(u.id||u._id),isFavorite:i.includes(u.id||u._id)})},u.id||u._id))}):o.jsx(Xo,{onAddLocalModel:l,isLocalModelLoading:c})})}function Xo({onAddLocalModel:e,isLocalModelLoading:t}){return o.jsxs(V.div,{className:"flex flex-col items-center justify-center py-16 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[o.jsx(Di,{className:"w-16 h-16 text-gray-500 mb-4"}),o.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"No installed models yet"}),o.jsx("p",{className:"text-gray-400 max-w-md mb-8 leading-relaxed",children:'Get started by adding models to your local library. You can add models locally from your computer or download them from the "All Models" tab.'}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(V.button,{className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-lg",onClick:e,whileHover:{scale:1.05,boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3)"},whileTap:{scale:.98},disabled:t,children:[t?o.jsx(J,{className:"w-5 h-5 mr-2"}):o.jsx(br,{className:"w-5 h-5 mr-2"}),"Add Model Locally"]}),o.jsx(V.button,{className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-medium hover:bg-gray-600 transition-colors",onClick:()=>{window.dispatchEvent(new CustomEvent("switchToAllModels"))},whileHover:{scale:1.02},whileTap:{scale:.98},children:"Browse All Models"})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-500 bg-opacity-10 border border-blue-500 border-opacity-30 rounded-lg max-w-lg",children:o.jsxs("p",{className:"text-blue-400 text-sm",children:["💡 ",o.jsx("strong",{children:"Pro tip:"})," Installed models run locally on your machine, giving you privacy and offline capabilities. GGUF format models work best for local inference."]})})]})}Yo.propTypes={installedModels:j.array.isRequired,systemInfo:j.object,selectedModel:j.object,onModelClick:j.func.isRequired,onDelete:j.func.isRequired,onFavorite:j.func.isRequired,favoriteModels:j.array.isRequired,onAddLocalModel:j.func.isRequired,isLocalModelLoading:j.bool.isRequired};Xo.propTypes={onAddLocalModel:j.func.isRequired,isLocalModelLoading:j.bool.isRequired};function Qo({value:e,onChange:t,onSearch:s,placeholder:n="Search models...",className:r="",isLoading:a=!1}){const[i,l]=f.useState(!1),c=f.useRef(null),u=m=>{const y=m.target.value;t(y)},d=m=>{m.key==="Enter"&&(m.preventDefault(),e.trim()?s(e.trim()):s(""))},h=m=>{m.preventDefault(),m.stopPropagation(),t(""),s(""),c.current?.focus()},p=m=>{m.preventDefault(),e.trim()?s(e.trim()):s("")};return o.jsxs("div",{className:`relative flex items-center ${r}`,children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),o.jsx("input",{ref:c,type:"text",placeholder:n,className:`w-full pl-10 pr-20 py-2 bg-[#2a2a2a] border border-[#3a3a3a] rounded-lg text-white 
          focus:outline-none transition-all duration-200 ${i||e?"border-blue-500 ring-1 ring-blue-500 shadow-md":"hover:border-gray-600"}`,value:e,onChange:u,onKeyDown:d,onFocus:()=>l(!0),onBlur:()=>l(!1),disabled:a}),e&&!a&&o.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors p-1 rounded",onClick:h,disabled:a,"aria-label":"Clear search",title:"Clear search",children:o.jsx(St,{className:"h-4 w-4"})}),o.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-500 hover:text-blue-400 transition-colors p-1 rounded disabled:opacity-50",onClick:p,disabled:a,"aria-label":"Search",title:"Search (or press Enter)",children:a?o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsx(Zs,{className:"h-4 w-4"})}),i&&!a&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 text-xs text-gray-500 bg-[#2a2a2a] border border-[#3a3a3a] rounded px-3 py-2 z-10",children:["💡 Press ",o.jsx("kbd",{className:"bg-gray-700 px-1 rounded text-gray-300",children:"Enter"})," to search or click the search icon"]})]})}Qo.propTypes={value:j.string.isRequired,onChange:j.func.isRequired,onSearch:j.func.isRequired,placeholder:j.string,className:j.string,isLoading:j.bool};function Jo({searchQuery:e,onSearch:t,sortBy:s,onSortChange:n,onToggleFilters:r,showFilters:a,isLoading:i}){const l=[{value:"downloads",label:"Most Downloads"},{value:"trending",label:"Trending"},{value:"lastModified",label:"Recently Updated"}];return o.jsx("div",{className:"flex flex-col space-y-3",children:o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("div",{className:"relative flex-grow",children:o.jsx(Qo,{value:e,onChange:c=>t(c),onSearch:c=>{console.log("Search triggered with:",c),t(c)},placeholder:"Search models...",isLoading:i})}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:s,onChange:c=>n(c.target.value),className:"appearance-none bg-[#2a2a2a] border border-[#3a3a3a] rounded-lg py-2 px-4 pr-8 text-gray-200 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 cursor-pointer",disabled:i,children:l.map(c=>o.jsx("option",{value:c.value,children:c.label},c.value))}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:o.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}),o.jsxs("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),console.log("Filter button clicked"),r()},className:`flex items-center justify-center bg-[#2a2a2a] border ${a?"border-blue-500 text-blue-500":"border-[#3a3a3a] text-gray-300"} rounded-lg px-4 py-2 hover:border-blue-500 hover:text-blue-400 transition-colors`,disabled:i,type:"button",children:[o.jsx(Bi,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:"Filters"})]})]})})}Jo.propTypes={searchQuery:j.string.isRequired,onSearch:j.func.isRequired,sortBy:j.string.isRequired,onSortChange:j.func.isRequired,onToggleFilters:j.func.isRequired,showFilters:j.bool.isRequired,isLoading:j.bool};function ei({isOpen:e,onClose:t,filters:s,onFiltersChange:n,onApply:r,onClear:a}){const[i,l]=f.useState({task:!0,library:!0,size:!0,license:!1,language:!1}),c=x=>{l(w=>({...w,[x]:!w[x]}))},u=(x,w,v)=>{const b=s[x]||[],k=v?[...b,w]:b.filter(S=>S!==w);n({...s,[x]:k})},d=(x,w)=>{const v=s[x];return Array.isArray(v)?v.includes(w):v===w},h=[{value:"text-generation",label:"Text Generation",count:15420},{value:"conversational",label:"Conversational",count:2156},{value:"text-classification",label:"Text Classification",count:1834},{value:"question-answering",label:"Question Answering",count:1203},{value:"summarization",label:"Summarization",count:892}],p=[{value:"transformers",label:"Transformers",count:12453},{value:"pytorch",label:"PyTorch",count:8921},{value:"gguf",label:"GGUF",count:4567},{value:"onnx",label:"ONNX",count:2134},{value:"tensorrt",label:"TensorRT",count:567}],m=[{value:"small",label:"Small (< 3B parameters)",range:"< 3B"},{value:"medium",label:"Medium (3B - 13B)",range:"3B - 13B"},{value:"large",label:"Large (13B - 70B)",range:"13B - 70B"},{value:"xlarge",label:"Extra Large (> 70B)",range:"> 70B"}],y=[{value:"apache-2.0",label:"Apache 2.0"},{value:"mit",label:"MIT"},{value:"cc-by-4.0",label:"CC BY 4.0"},{value:"cc-by-nc-4.0",label:"CC BY-NC 4.0"},{value:"other",label:"Other"}],g=[{value:"en",label:"English"},{value:"zh",label:"Chinese"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"}];return e?o.jsxs(V.div,{className:"fixed inset-0 z-50 flex",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),o.jsxs(V.div,{className:"relative ml-auto w-80 h-full bg-[#1a1a1a] border-l border-[#3a3a3a] overflow-y-auto",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[o.jsxs("div",{className:"sticky top-0 bg-[#1a1a1a] border-b border-[#3a3a3a] p-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-white",children:"Filters"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(St,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx(Re,{title:"Task",isExpanded:i.task,onToggle:()=>c("task"),count:h.filter(x=>d("task",x.value)).length,children:o.jsx("div",{className:"space-y-2",children:h.map(x=>o.jsx(Ve,{label:x.label,count:x.count,checked:d("task",x.value),onChange:w=>u("task",x.value,w)},x.value))})}),o.jsx(Re,{title:"Library",isExpanded:i.library,onToggle:()=>c("library"),count:p.filter(x=>d("library",x.value)).length,children:o.jsx("div",{className:"space-y-2",children:p.map(x=>o.jsx(Ve,{label:x.label,count:x.count,checked:d("library",x.value),onChange:w=>u("library",x.value,w)},x.value))})}),o.jsx(Re,{title:"Model Size",isExpanded:i.size,onToggle:()=>c("size"),count:m.filter(x=>d("size",x.value)).length,children:o.jsx("div",{className:"space-y-2",children:m.map(x=>o.jsx(Ve,{label:x.label,sublabel:x.range,checked:d("size",x.value),onChange:w=>u("size",x.value,w)},x.value))})}),o.jsx(Re,{title:"License",isExpanded:i.license,onToggle:()=>c("license"),count:y.filter(x=>d("license",x.value)).length,children:o.jsx("div",{className:"space-y-2",children:y.map(x=>o.jsx(Ve,{label:x.label,checked:d("license",x.value),onChange:w=>u("license",x.value,w)},x.value))})}),o.jsx(Re,{title:"Language",isExpanded:i.language,onToggle:()=>c("language"),count:g.filter(x=>d("language",x.value)).length,children:o.jsx("div",{className:"space-y-2",children:g.map(x=>o.jsx(Ve,{label:x.label,checked:d("language",x.value),onChange:w=>u("language",x.value,w)},x.value))})})]}),o.jsxs("div",{className:"sticky bottom-0 bg-[#1a1a1a] border-t border-[#3a3a3a] p-4 flex space-x-3",children:[o.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear All"}),o.jsx("button",{onClick:()=>{r(),t()},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})]})]})]}):null}function Re({title:e,isExpanded:t,onToggle:s,count:n,children:r}){return o.jsxs("div",{className:"border-b border-[#2a2a2a] pb-4",children:[o.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between text-white font-medium text-sm mb-3 hover:text-blue-400 transition-colors",children:[o.jsxs("span",{className:"flex items-center",children:[e,n>0&&o.jsx("span",{className:"ml-2 bg-blue-600 text-white rounded-full px-2 py-0.5 text-xs",children:n})]}),t?o.jsx(ji,{className:"w-4 h-4"}):o.jsx(Ci,{className:"w-4 h-4"})]}),t&&r]})}function Ve({label:e,sublabel:t,count:s,checked:n,onChange:r}){return o.jsxs("label",{className:"flex items-center cursor-pointer group",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:a=>r(a.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),o.jsxs("div",{className:"ml-3 flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-300 group-hover:text-white transition-colors",children:e}),s&&o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:s.toLocaleString()})]}),t&&o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:t})]})]})}Re.propTypes={title:j.string.isRequired,isExpanded:j.bool.isRequired,onToggle:j.func.isRequired,count:j.number,children:j.node.isRequired};Ve.propTypes={label:j.string.isRequired,sublabel:j.string,count:j.number,checked:j.bool.isRequired,onChange:j.func.isRequired};ei.propTypes={isOpen:j.bool.isRequired,onClose:j.func.isRequired,filters:j.object.isRequired,onFiltersChange:j.func.isRequired,onApply:j.func.isRequired,onClear:j.func.isRequired};const Yd="https://huggingface.co/api",fr=15e3;async function We(e={}){try{const t=window.electronAPI;if(t?.fetchHuggingFaceModels)return await t.fetchHuggingFaceModels(e);const s={Accept:"application/json","Content-Type":"application/json"};if(typeof e.pageUrl=="string"&&e.pageUrl.startsWith("http")){console.log("Fetching models from URL:",e.pageUrl);const n=await qs.get(e.pageUrl,{headers:s,timeout:fr});return mr(n)}else{const{search:n,limit:r=20,task:a=[],library:i=[],author:l,filters:c={}}=e;let u=e.sort||"downloads";u==="trending"?u="trending":u==="updated"||u==="lastModified"?u="lastModified":u="downloads";const d=new URLSearchParams;d.append("sort",u),d.append("limit",Math.min(r,100).toString()),n&&n.trim()&&d.append("search",n.trim()),a&&a.length>0?a.forEach(m=>{m&&m.trim()&&d.append("pipeline_tag",m.trim())}):d.append("pipeline_tag","text-generation"),i&&i.length>0&&i.forEach(m=>{m&&m.trim()&&d.append("library",m.trim())}),l&&l.trim()&&d.append("author",l.trim()),c.language&&d.append("language",c.language),c.license&&d.append("license",c.license);const h=`${Yd}/models?${d.toString()}`;console.log("Fetching models from constructed URL:",h);const p=await qs.get(h,{headers:s,timeout:fr});return mr(p)}}catch(t){const s=eh(t);throw console.error("Error in fetchModels:",t),new Error(s)}}function Ge(e){return Array.isArray(e)?e.map(t=>{const s=t.id||t.modelId||"unknown-model",n=t.name||s?.split("/").pop()||"Unnamed Model";return{id:s,name:n,fullName:s,author:s?.split("/")[0]||"unknown",description:t.description||"No description available",lastModified:t.lastModified||t.updatedAt||null,tags:Array.isArray(t.tags)?t.tags:[],pipeline_tag:t.pipeline_tag||"text-generation",downloads:typeof t.downloads=="number"?t.downloads:0,likes:typeof t.likes=="number"?t.likes:0,library_name:t.library_name||(Array.isArray(t.tags)?t.tags.find(r=>["pytorch","tensorflow","transformers","gguf"].includes(r)):null),license:t.cardData?.license||t.license||"Unknown",avatar_url:t.author?.avatar||null,isGGUF:(Array.isArray(t.tags)?t.tags.includes("gguf"):!1)||(Array.isArray(t.siblings)?t.siblings.some(r=>r.rfilename?.endsWith(".gguf")):!1),isQuantized:(Array.isArray(t.tags)?t.tags.includes("quantized"):!1)||s?.toLowerCase().includes("q")||!1,parameters:Xd(s,t.tags),quant:Qd(s,t.tags),size:Jd(t.siblings)}}):[]}function Xd(e,t=[]){if(!e)return"Unknown";const s=e.match(/(\d+(?:\.\d+)?[BM])/i);if(s)return s[1].toUpperCase();const n=t.find(r=>/\d+[BM]/i.test(r));if(n){const r=n.match(/(\d+(?:\.\d+)?[BM])/i);return r?r[1].toUpperCase():"Unknown"}return"Unknown"}function Qd(e,t=[]){if(!e)return"Unknown";const s=e.match(/(Q[1-8](?:_K_[SM]|_0|_1)?)/i);if(s)return s[1].toUpperCase();const n=t.find(r=>/Q[1-8]/i.test(r));return n?n.toUpperCase():"Unknown"}function Jd(e=[]){return Array.isArray(e)?e.filter(t=>t.rfilename?.endsWith(".gguf")).reduce((t,s)=>t+(s.size||0),0):0}function mr(e){const t=e.data,s=e.headers.link;let n=null;if(s){const r=s.split(",").find(a=>a.includes('rel="next"'));if(r){const a=r.match(/<(.+)>/);a&&a[1]&&(n=a[1])}}return{models:t,nextUrl:n}}function eh(e){console.error("Error fetching from Hugging Face API:",e);let t="Failed to fetch models from Hugging Face";if(e.response){const s=e.response.status;s===400?t="Bad request: Hugging Face API rejected the request. This could be due to malformed parameters or invalid API usage.":s===401?t="Authentication failed: Invalid or expired token. Set up your Hugging Face token in settings.":s===403?t="Access forbidden: You do not have permission to access this resource. Check your Hugging Face account permissions.":s===429?t="Rate limited: Too many requests to Hugging Face API. Please wait a moment and try again.":s>=500&&(t="Hugging Face API server error. Please try again later or report this issue."),e.response.data&&(console.error("API Error Response:",e.response.data),typeof e.response.data=="string"?t+=` Details: ${e.response.data}`:e.response.data.error&&(t+=` Details: ${e.response.data.error}`))}else e.request?t="Network error: Could not connect to Hugging Face API. Please check your internet connection.":e.message&&(t=`Error: ${e.message}`);return t}const th=st.lazy(()=>ri(()=>import("./ModelDetails-D_amfw8w.js"),__vite__mapDeps([0,1,2]),import.meta.url));function sh(){const{getSystemInfo:e,downloadModel:t,deleteModel:s,getSettings:n,saveSettings:r,getLocalModels:a,installLocalModel:i}=ge(),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,p]=f.useState(""),[m,y]=f.useState(null),[g,x]=f.useState(!1),[w,v]=f.useState(null),[b,k]=f.useState(null),[S,M]=f.useState([]),[T,N]=f.useState("all"),[R,W]=f.useState("downloads"),[K,_]=f.useState(null),[$,H]=f.useState(!1),[ee,O]=f.useState(!1),[Q,ue]=f.useState(!1),[L,Ue]=f.useState({task:["text-generation"],library:["gguf"],size:[],license:[],language:[]});f.useEffect(()=>{(async()=>{x(!0),v(null);try{console.log("Loading initial models...");const{models:A,nextUrl:E}=await We({sort:"downloads",limit:20,task:L.task,library:L.library}),oe=Ge(A);c(oe),_(E),console.log(`Loaded ${oe.length} initial models`)}catch(A){console.error("Failed to load initial models:",A),v("Failed to load models. Please check your internet connection and try again.")}finally{x(!1)}})()},[]);const D=f.useCallback(async C=>{console.log(`Searching for: "${C}"`),p(C),x(!0),v(null),c([]);try{const{models:A,nextUrl:E}=await We({search:C.trim(),sort:R,limit:20,task:L.task,library:L.library,filters:{language:L.language.length>0?L.language[0]:void 0,license:L.license.length>0?L.license[0]:void 0}}),oe=Ge(A);c(oe),_(E),console.log(`Search returned ${oe.length} models`)}catch(A){console.error("Search failed:",A),v(`Search failed: ${A.message}`)}finally{x(!1)}},[R,L]),ye=f.useCallback(async C=>{console.log(`Changing sort to: ${C}`),W(C),x(!0),v(null),c([]);try{const{models:A,nextUrl:E}=await We({search:h.trim(),sort:C,limit:20,task:L.task,library:L.library}),oe=Ge(A);c(oe),_(E)}catch(A){console.error("Sort change failed:",A),v(`Failed to sort models: ${A.message}`)}finally{x(!1)}},[h,L]),Pe=f.useCallback(async()=>{if(!(!K||$||g)){console.log("Loading more models..."),H(!0);try{const{models:C,nextUrl:A}=await We({pageUrl:K}),E=Ge(C);c(oe=>[...oe,...E]),_(A),console.log(`Loaded ${E.length} additional models`)}catch(C){console.error("Failed to load more models:",C),v("Failed to load more models")}finally{H(!1)}}},[K,$,g]),se=f.useCallback(async()=>{try{const C=await a();console.log("Loaded installed models:",C);const A=C.map(E=>({...E,id:E.id||E._id||E.name||"unknown-model",isInstalled:!0}));d(A)}catch(C){console.error("Failed to fetch installed models:",C)}},[a]);f.useEffect(()=>{se()},[se]),f.useEffect(()=>{(async()=>{try{const A=await e();k(A)}catch(A){console.error("Failed to fetch system info:",A)}})()},[e]),f.useEffect(()=>{const C=()=>{N("all")};return window.addEventListener("switchToAllModels",C),()=>window.removeEventListener("switchToAllModels",C)},[]),f.useEffect(()=>{n&&(async()=>{try{const A=await n();A?.favoriteModels&&M(A.favoriteModels)}catch(A){console.error("Failed to load favorite models from settings:",A)}})()},[n]),f.useEffect(()=>{const C=()=>{if(T!=="all")return;const A=window.innerHeight+window.scrollY,E=document.body.offsetHeight-1e3;A>=E&&!$&&K&&!g&&Pe()};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[T,$,K,g,Pe]);const He=async()=>{try{O(!0);const C=await i();C.success?(await se(),N("installed"),v(`✅ Successfully added ${C.modelName||"model"}`),setTimeout(()=>v(null),3e3)):v(`❌ Failed to add model: ${C.message}`)}catch(C){console.error("Error adding local model:",C),v("❌ An error occurred while adding the local model")}finally{O(!1)}},ne=async C=>{y({...C,isLoading:!0});try{const A=u.some(E=>E.id===C.id||E.originalHuggingFaceId===C.id);y({...C,isLoading:!1,isInstalled:A||C.isInstalled||!1,isFavorite:S.includes(C.id)})}catch(A){console.error("Failed to fetch model details:",A),y(null),v("Failed to load model details")}},Ae=async(C,A)=>{try{v(null),console.log(`Downloading model ${C} with filename ${A}`),await t(C,A);const E=A.replace(".gguf","");console.log(`Successfully downloaded: ${E}`),await se(),N("installed"),v(`✅ Successfully installed ${E}`),setTimeout(()=>v(null),3e3)}catch(E){console.error("Failed to download model:",E),v(`❌ Failed to download model: ${E.message}`)}},Me=async C=>{const A=S.includes(C)?S.filter(E=>E!==C):[...S,C];M(A),m?.id===C&&y(E=>({...E,isFavorite:!E.isFavorite}));try{const E=await n();await r({...E,favoriteModels:A})}catch(E){console.error("Failed to save favorite models:",E)}},_e=()=>{let C=l;return h&&(C=C.filter(A=>A.name?.toLowerCase().includes(h.toLowerCase())||A.description?.toLowerCase().includes(h.toLowerCase())||A.id?.toLowerCase().includes(h.toLowerCase()))),C},Ee=async()=>{x(!0),v(null),c([]);try{const{models:C,nextUrl:A}=await We({search:h.trim(),sort:R,limit:20,task:L.task,library:L.library,filters:{language:L.language.length>0?L.language[0]:void 0,license:L.license.length>0?L.license[0]:void 0}}),E=Ge(C);c(E),_(A)}catch(C){console.error("Failed to apply filters:",C),v(`Failed to apply filters: ${C.message}`)}finally{x(!1)}},re=()=>{Ue({task:["text-generation"],library:["gguf"],size:[],license:[],language:[]})},$e=_e();return o.jsxs("div",{className:"p-6 h-full",children:[o.jsxs(V.div,{className:"flex justify-between items-center mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Models"})}),o.jsx(Jo,{searchQuery:h,onSearch:D,sortBy:R,onSortChange:ye,onToggleFilters:()=>ue(!0),showFilters:Q,isLoading:g})]}),o.jsx(V.div,{className:"flex justify-between items-center mb-6",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:o.jsxs(V.button,{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium text-sm hover:bg-blue-700 transition-all shadow-md",onClick:He,whileHover:{scale:1.03,boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},whileTap:{scale:.97},disabled:ee,children:[ee?o.jsx(J,{className:"w-4 h-4 mr-2"}):o.jsx(br,{className:"w-4 h-4 mr-2"}),"➕ Add Model Locally"]})}),o.jsxs(V.div,{className:"flex mb-6 border-b border-gray-700",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.2},children:[o.jsx(pt,{isActive:T==="all",onClick:()=>N("all"),children:"All Models"}),o.jsxs(pt,{isActive:T==="installed",onClick:()=>N("installed"),children:["Installed Models",u.length>0&&o.jsx(V.span,{className:"ml-2 bg-green-500 text-white rounded-full px-2 py-0.5 text-xs",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:u.length})]}),o.jsxs(pt,{isActive:T==="liked",onClick:()=>N("liked"),children:["Liked Models",S.length>0&&o.jsx(V.span,{className:"ml-2 bg-blue-500 text-white rounded-full px-2 py-0.5 text-xs",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:S.length})]})]}),o.jsx(cr,{children:w&&o.jsxs(V.div,{className:`rounded-lg p-4 mb-6 flex items-center ${w.startsWith("✅")?"bg-green-500 bg-opacity-20 border border-green-500 text-green-100":"bg-red-500 bg-opacity-20 border border-red-500 text-red-100"}`,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[w.startsWith("✅")?o.jsx(gr,{className:"w-5 h-5 mr-3 flex-shrink-0"}):o.jsx(Ks,{className:"w-5 h-5 mr-3 flex-shrink-0"}),o.jsx("span",{children:w})]})}),g&&l.length===0&&o.jsxs("div",{className:"flex justify-center items-center py-16",children:[o.jsx(J,{className:"w-8 h-8"}),o.jsx("span",{className:"ml-3 text-gray-400",children:"Loading models..."})]}),o.jsx(cr,{children:T==="installed"?o.jsx(Yo,{installedModels:u,systemInfo:b,selectedModel:m,onModelClick:ne,onDelete:C=>{s(C.replace(".gguf","")).then(()=>se()).catch(A=>v(`❌ Failed to delete model: ${A.message}`))},onFavorite:Me,favoriteModels:S,onAddLocalModel:He,isLocalModelLoading:ee}):o.jsx(V.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05},children:T==="liked"?$e.filter(C=>S.includes(C.id)).length>0?$e.filter(C=>S.includes(C.id)).map(C=>o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:o.jsx(Ct,{model:C,systemInfo:b,isActive:m?.id===C.id,onClick:()=>ne(C),onDownload:Ae,onFavorite:()=>Me(C.id),isFavorite:!0})},C.id)):o.jsx(xs,{icon:yr,title:"No liked models yet",description:"Click the heart icon on any model to add it to your liked models for easy access later."}):$e.length>0?$e.map(C=>o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:o.jsx(Ct,{model:C,systemInfo:b,isActive:m?.id===C.id,onClick:()=>ne(C),onDownload:Ae,onFavorite:()=>Me(C.id),isFavorite:S.includes(C.id)})},C.id)):!g&&o.jsx(xs,{icon:Ks,title:"No models found",description:"Try adjusting your search query or filters, or check your internet connection."})})}),T==="all"&&o.jsxs(o.Fragment,{children:[$&&o.jsx("div",{className:"flex justify-center my-6",children:o.jsx(J,{})}),!$&&K&&!g&&o.jsx(V.button,{className:"w-full py-3 mt-6 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-gray-300 rounded-lg transition-colors",onClick:Pe,whileHover:{backgroundColor:"#3a3a3a"},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:"Load More Models"})]}),m&&o.jsx(f.Suspense,{fallback:o.jsx(J,{}),children:o.jsx(th,{model:m,systemInfo:b,isActive:m?.isActive,onDownload:Ae,onActivate:C=>console.log("Activating model:",C),onDelete:()=>{window.confirm(`Are you sure you want to delete ${m.name||m.id}?`)&&s(m.id||m._id).then(()=>{se(),y(null)}).catch(C=>v(`❌ Failed to delete model: ${C.message}`))},onBack:()=>y(null),onFavorite:Me,isFavorite:S.includes(m.id)})}),o.jsx(ei,{isOpen:Q,onClose:()=>ue(!1),filters:L,onFiltersChange:Ue,onApply:Ee,onClear:re}),o.jsx(Zd,{})]})}function pt({isActive:e,onClick:t,children:s}){return o.jsx(V.button,{className:`px-4 py-2 font-medium text-sm flex items-center ${e?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,onClick:t,whileHover:{scale:1.05},whileTap:{scale:.98},children:s})}function xs({icon:e,title:t,description:s,actions:n=[]}){return o.jsxs(V.div,{className:"col-span-full flex flex-col items-center justify-center py-16 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[o.jsx(e,{className:"w-16 h-16 text-gray-500 mb-4"}),o.jsx("h3",{className:"text-white text-lg font-medium mb-2",children:t}),o.jsx("p",{className:"text-gray-400 max-w-md mb-6",children:s}),n.length>0&&o.jsx("div",{className:"flex space-x-4",children:n.map((r,a)=>o.jsxs(V.button,{className:`flex items-center px-4 py-2 rounded-lg transition-colors ${r.primary?"bg-blue-600 text-white hover:bg-blue-700 shadow-md":"bg-gray-700 text-white hover:bg-gray-600"}`,onClick:r.onClick,whileHover:{scale:1.05},whileTap:{scale:.98},disabled:r.loading,children:[r.loading?o.jsx(J,{className:"w-4 h-4 mr-2"}):r.icon?o.jsx(r.icon,{className:"w-4 h-4 mr-2"}):null,r.label]},a))})]})}pt.propTypes={isActive:j.bool.isRequired,onClick:j.func.isRequired,children:j.node.isRequired};xs.propTypes={icon:j.elementType.isRequired,title:j.string.isRequired,description:j.string.isRequired,actions:j.arrayOf(j.shape({label:j.string.isRequired,onClick:j.func.isRequired,primary:j.bool,loading:j.bool,icon:j.elementType}))};function ti({onSelect:e}){const[t,s]=f.useState([]),[n,r]=f.useState(null),{isApiReady:a}=f.useContext(Se);f.useEffect(()=>{(async()=>{if(!a||!window.electronAPI?.getChatHistory){r("Chat history is not available in development mode");return}try{const c=await window.electronAPI.getChatHistory();s(Array.isArray(c)?c:[]),r(null)}catch(c){console.error("Failed to load chat history:",c),r("Failed to load chat history"),s([])}})()},[a]);const i=async l=>{try{await window.electronAPI.deleteChat(l),s(c=>c.filter(u=>u.id!==l))}catch(c){console.error("Failed to delete chat:",c)}};return o.jsx("div",{className:"flex flex-col space-y-2",children:(t||[]).length===0?o.jsx("div",{className:"text-gray-400",children:"No chat history available."}):(t||[]).map(l=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded hover:bg-[#3a3a3a] cursor-pointer",onClick:()=>e(l.id),children:[o.jsx("span",{className:"text-white",children:l.title||"Untitled Chat"}),o.jsx("button",{className:"text-gray-400 hover:text-red-400",onClick:c=>{c.stopPropagation(),i(l.id)},children:o.jsx(wr,{className:"w-5 h-5"})})]},l.id))})}ti.propTypes={onSelect:j.func.isRequired};function nh(){const{isApiReady:e}=f.useContext(Se),t=bs(),[s,n]=f.useState([]),[r,a]=f.useState("");f.useEffect(()=>{if(!e)return;(async()=>{try{const c=await window.electronAPI.getChatHistory();n(c)}catch(c){console.error("Failed to load history:",c),a("Failed to load chat history.")}})()},[e]);const i=l=>{const c=s.find(u=>u.id===l);c&&c.modelId&&t(`/chat/${c.modelId}`,{state:{chatId:l}})};return o.jsxs("div",{className:"flex-1 flex flex-col bg-[#1a1a1a]",children:[r&&o.jsx("div",{className:"p-4 bg-red-900 text-red-200 text-sm",children:r}),o.jsx("div",{className:"px-6 py-4 border-b border-[#2a2a2a]",children:o.jsx("h1",{className:"text-lg font-semibold text-white",children:"Chat History"})}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:o.jsx(ti,{history:s,onSelect:i})})]})}function rh(){const e=f.useContext(Se),{chatSettings:t,updateChatSettings:s}=vs(),n=e?.isApiReady||!1,[r,a]=f.useState(t?.maxTokens||2048),[i,l]=f.useState(t?.promptSize||4096),[c,u]=f.useState(t?.temperature||.7),[d,h]=f.useState(t?.topP||.9),[p,m]=f.useState(t?.systemPrompt||""),[y,g]=f.useState(t?.saveHistory??!0),[x,w]=f.useState(t?.codeHighlighting??!0),[v,b]=f.useState(t?.markdownRendering??!0),[k,S]=f.useState("");f.useEffect(()=>{if(!n)return;(async()=>{try{const N=await window.electronAPI.getChatSettings();a(N.maxTokens),l(N.promptSize),u(N.temperature),h(N.topP),m(N.systemPrompt),g(N.saveHistory),w(N.codeHighlighting),b(N.markdownRendering)}catch(N){console.error("Failed to load chat settings:",N),S("Failed to load chat settings.")}})()},[n]);const M=()=>{if(!n){S("Application not fully loaded. Please wait or restart.");return}const T={maxTokens:r,promptSize:i,temperature:c,topP:d,systemPrompt:p,saveHistory:y,codeHighlighting:x,markdownRendering:v};try{s(T),window.electronAPI.setChatSettings(T)}catch(N){console.error("Failed to save chat settings:",N),S("Failed to save chat settings.")}};return o.jsxs("div",{className:"settings-chat space-y-8",children:[k&&o.jsx("div",{className:"p-4 bg-red-900 text-red-200 text-sm",children:k}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:"Chat Settings"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Configure chat behavior and appearance"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 rounded-lg border border-[#2a2a2a] bg-[#1a1a1a]",children:[o.jsx("h3",{className:"text-sm font-medium text-white",children:"Model Parameters"}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Max Tokens"}),o.jsx("span",{className:"text-xs text-gray-500",children:r})]}),o.jsx("input",{type:"range",min:"256",max:"4096",step:"128",value:r,onChange:T=>a(Number(T.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Temperature"}),o.jsx("span",{className:"text-xs text-gray-500",children:c.toFixed(2)})]}),o.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:c,onChange:T=>u(Number(T.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Top P"}),o.jsx("span",{className:"text-xs text-gray-500",children:d.toFixed(2)})]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:d,onChange:T=>h(Number(T.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 rounded-lg border border-[#2a2a2a] bg-[#1a1a1a]",children:[o.jsx("h3",{className:"text-sm font-medium text-white",children:"System Prompt"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("textarea",{value:p,onChange:T=>m(T.target.value),rows:4,className:"w-full px-3 py-2 bg-[#252525] border border-[#3a3a3a] rounded text-sm text-white font-mono resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter system prompt..."}),o.jsx("p",{className:"text-xs text-gray-500",children:"This prompt will be used as the system context for all conversations"})]})]}),o.jsxs("div",{className:"space-y-4 p-4 rounded-lg border border-[#2a2a2a] bg-[#1a1a1a]",children:[o.jsx("h3",{className:"text-sm font-medium text-white",children:"Display Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:T=>w(T.target.checked),className:"w-4 h-4 bg-[#252525] border-[#3a3a3a] rounded text-blue-500 focus:ring-0 focus:ring-offset-0"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Enable code syntax highlighting"})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:T=>b(T.target.checked),className:"w-4 h-4 bg-[#252525] border-[#3a3a3a] rounded text-blue-500 focus:ring-0 focus:ring-offset-0"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Enable Markdown rendering"})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:T=>g(T.target.checked),className:"w-4 h-4 bg-[#252525] border-[#3a3a3a] rounded text-blue-500 focus:ring-0 focus:ring-offset-0"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Save chat history"})]})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(zs,{variant:"primary",onClick:M,children:"Save Changes"})})]})]})}function oh(){const{isApiReady:e}=f.useContext(Se),{performanceSettings:t,updatePerformanceSettings:s}=vs(),[n,r]=f.useState(t.threads||4),[a,i]=f.useState(t.top_k||40),[l,c]=f.useState(t.top_p||.9),[u,d]=f.useState(t.temperature||.7),[h,p]=f.useState("");f.useEffect(()=>{if(!e)return;(async()=>{try{const x=await window.electronAPI.getPerformanceSettings();r(x.threads||4),i(x.top_k||40),c(x.top_p||.9),d(x.temperature||.7)}catch(x){console.error("Failed to load performance settings:",x),p("Failed to load performance settings.")}})()},[e]);const m=()=>n<1||n>16?(p("Threads must be between 1 and 16."),!1):a<10||a>100?(p("Top K must be between 10 and 100."),!1):l<.1||l>1?(p("Top P must be between 0.1 and 1.0."),!1):u<.1||u>2?(p("Temperature must be between 0.1 and 2.0."),!1):(p(""),!0),y=()=>{if(!e){p("Application not fully loaded. Please wait or restart.");return}if(!m())return;const g={threads:n,top_k:a,top_p:l,temperature:u};try{s(g),window.electronAPI.setPerformanceSettings(g)}catch(x){console.error("Failed to save performance settings:",x),p("Failed to save performance settings.")}};return o.jsx("div",{className:"p-8",children:o.jsxs("section",{children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-1",children:"Performance Settings"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Optimize resource usage and model performance"}),h&&o.jsx("p",{className:"text-sm text-red-400 mb-4",children:h}),o.jsxs("div",{className:"space-y-4 p-4 rounded-lg border border-[#2a2a2a] bg-[#1a1a1a]",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Threads"}),o.jsx("span",{className:"text-xs text-gray-500",children:n})]}),o.jsx("input",{type:"range",min:"1",max:"16",value:n,onChange:g=>r(Number(g.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Top K"}),o.jsx("span",{className:"text-xs text-gray-500",children:a})]}),o.jsx("input",{type:"range",min:"10",max:"100",value:a,onChange:g=>i(Number(g.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Top P"}),o.jsx("span",{className:"text-xs text-gray-500",children:typeof l=="number"?l.toFixed(1):"0.9"})]}),o.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",value:l||.1,onChange:g=>c(Number(g.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Temperature"}),o.jsx("span",{className:"text-xs text-gray-500",children:typeof u=="number"?u.toFixed(1):"0.7"})]}),o.jsx("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:u||.1,onChange:g=>d(Number(g.target.value)),className:"w-full bg-[#2a2a2a] h-1.5 rounded-lg appearance-none cursor-pointer"})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(zs,{variant:"primary",onClick:y,children:"Save"})})]})})}const ts=(e,t=2)=>{if(!e||isNaN(Number(e)))return"N/A";const s=Number(e),n=["B","KB","MB","GB","TB"];let r=s,a=0;for(;r>=1024&&a<n.length-1;)r/=1024,a++;return`${r.toFixed(t)} ${n[a]}`},ss=()=>({cpu:{brand:"AMD Ryzen 9 5950X",cores:16,physicalCores:8,speed:3.4},memory:{total:32*1024*1024*1024,free:16*1024*1024*1024,usedPercent:50},gpu:{controllers:[{model:"NVIDIA GeForce RTX 3080",vram:10*1024*1024*1024}],hasCuda:!0},platform:"win32",arch:"x64",system:{manufacturer:"Custom Build",model:"Desktop PC"},isMock:!0}),ns=e=>{if(!e)return null;const t=e.gpu||{},n=(t.controllers||[])[0]||{};return{cpu:{name:e.cpu?.brand||e.cpu?.model||"Unknown",cores:e.cpu?.cores||"Unknown",threads:e.cpu?.physicalCores?e.cpu.cores*2:e.cpu?.cores||"Unknown",speed:e.cpu?.speed?`${e.cpu.speed} GHz`:"Unknown"},memory:{total:e.memory?.total||0,free:e.memory?.free||e.memory?.available||0,formatted:{total:ts(e.memory?.total),free:ts(e.memory?.free||e.memory?.available)}},gpu:{name:n.model||t.primaryGpu||"None detected",vram:n.vram||t.vram||0,hasCuda:t.hasCuda||!1,formatted:{vram:ts(n.vram||t.vram)}},platform:e.platform||"Unknown",arch:e.arch||"Unknown",isMock:e.isMock||!1}};function ih(){const{getSystemInfo:e,getPaths:t,isDevelopment:s}=ge(),[n,r]=f.useState(null),[a,i]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(!0),[h,p]=f.useState(null),[m,y]=f.useState(null),g=x=>{y(x),setTimeout(()=>{y(null)},15e3)};return f.useEffect(()=>{let x=!1,w=null;return console.log("Fetching system info..."),(async()=>{try{w=setTimeout(()=>{if(!x){if(console.warn("System info fetch timed out after 5 seconds"),s){const M=ss();r(ns(M))}else r({error:"System info timed out. Your system may not support hardware detection.",cpu:{name:"Unknown",cores:"?"},memory:{total:0,free:0},gpu:{name:"Unknown"},platform:"Unknown",arch:"Unknown"}),g("System information extraction timed out. Performance recommendations may be inaccurate.");d(!1)}},5e3);let b;if(s){console.log("Dev mode detected, trying real system info first");try{b=await e(),console.log("Successfully fetched real system info in dev mode")}catch(M){console.warn("Falling back to mock system info in dev mode:",M),b=ss()}}else console.log("Production mode - fetching system info"),b=await e(),b.error&&(console.error("System info extraction failed:",b.error),g(`System information extraction failed: ${b.error}. Performance recommendations may be inaccurate.`));console.log("System info fetched successfully:",b);const k=ns(b);let S={data:"N/A",model:"N/A"};if(t)try{S=await t(),console.log("Paths fetched successfully:",S)}catch(M){console.error("Failed to fetch paths:",M)}x||(clearTimeout(w),r(k||{cpu:{},memory:{}}),i(S?.userData||S?.appData||"N/A"),c(S?.downloads||"N/A"),d(!1))}catch(b){if(console.error("Failed to load system info:",b),!x){if(clearTimeout(w),p("Failed to load system information. Please restart the application."),s){const k=ss();r(ns(k))}d(!1)}}})(),()=>{x=!0,w&&clearTimeout(w)}},[e,t,s]),u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(J,{className:"w-8 h-8 text-blue-500"})}):h?o.jsx("div",{className:"text-red-400 p-4",children:h}):o.jsxs("div",{className:"space-y-6 p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"System Information"}),m&&!s&&o.jsx("div",{className:"bg-amber-900/30 border border-amber-800/50 text-amber-300 p-3 rounded-md text-sm mb-4 animate-fadeIn",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber-400 mr-2 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium mb-1",children:"System Info Warning"}),o.jsx("p",{className:"text-xs",children:m}),o.jsx("button",{onClick:()=>y(null),className:"text-xs mt-2 py-1 px-2 bg-amber-800/30 hover:bg-amber-800/50 rounded transition-colors",children:"Dismiss"})]})]})}),n?.error?o.jsx("div",{className:"bg-red-900/30 text-red-300 p-3 rounded-md text-sm mb-4",children:n.error}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Platform"}),o.jsxs("p",{className:"mt-1 text-gray-400",children:[n?.platform||"N/A"," (",n?.arch||"N/A",")"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"CPU"}),o.jsxs("p",{className:"mt-1 text-gray-400",children:[n?.cpu?.name||"N/A","(",n?.cpu?.cores||"N/A"," cores",n?.cpu?.threads?`, ${n.cpu.threads} threads`:"",")"]}),n?.cpu?.speed&&o.jsxs("p",{className:"mt-0.5 text-xs text-gray-500",children:["Clock speed: ",n.cpu.speed]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Memory"}),o.jsxs("p",{className:"mt-1 text-gray-400",children:[n?.memory?.formatted?.total||"N/A"," total, "," ",n?.memory?.formatted?.free||"N/A"," free"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"GPU"}),o.jsxs("p",{className:"mt-1 text-gray-400",children:[n?.gpu?.name||"N/A",n?.gpu?.formatted?.vram?` (${n.gpu.formatted.vram} VRAM)`:""]}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500",children:n?.gpu?.hasCuda?"✓ CUDA support detected":"✗ No CUDA support detected"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Application Data"}),o.jsx("p",{className:"mt-1 text-gray-400 text-sm break-all",children:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Downloads Folder"}),o.jsx("p",{className:"mt-1 text-gray-400 text-sm break-all",children:l})]}),s&&o.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-md text-sm mt-4",children:[o.jsx("p",{className:"text-blue-300 font-medium mb-1",children:"Development Mode"}),o.jsxs("p",{className:"text-gray-400",children:["The application is running in development mode.",n?.isMock?" Using mock system data.":" Using real system data."]})]})]})]})}function ah(){const{getSettings:e,saveSettings:t}=ge(),[s,n]=f.useState(""),[r,a]=f.useState(!1),[i,l]=f.useState(!0),[c,u]=f.useState(!1),[d,h]=f.useState(null),[p,m]=f.useState("");f.useEffect(()=>{async function g(){try{const x=await e?.();x?.huggingFaceToken&&n(x.huggingFaceToken)}catch(x){console.error("Failed to load API settings:",x),h("Failed to load API settings")}finally{l(!1)}}g()},[e]);const y=async()=>{u(!0),m(""),h(null);try{const g=await e?.();await t?.({...g,huggingFaceToken:s}),m("API token saved successfully"),setTimeout(()=>{m("")},3e3)}catch(g){console.error("Failed to save API token:",g),h("Failed to save API token")}finally{u(!1)}};return i?o.jsx("div",{className:"flex items-center justify-center p-6",children:o.jsx(J,{className:"w-8 h-8 text-blue-500"})}):o.jsxs("div",{className:"space-y-6 p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"API Settings"}),o.jsx("div",{className:"space-y-4 max-w-2xl",children:o.jsxs("div",{className:"bg-[#2a2a2a] border border-[#3a3a3a] rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Hugging Face"}),o.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Add your Hugging Face API token to access private models and increase rate limits. You can create a token in your",o.jsx("a",{href:"https://huggingface.co/settings/tokens",target:"_blank",rel:"noreferrer",className:"text-blue-400 hover:text-blue-300 ml-1",children:"Hugging Face account settings"}),"."]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"API Token"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:r?"text":"password",value:s,onChange:g=>n(g.target.value),placeholder:"hf_...",className:"w-full bg-[#1a1a1a] border border-[#3a3a3a] rounded-md py-2 px-3 text-gray-300 focus:outline-none focus:border-blue-500"}),o.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:r?o.jsx(Ri,{className:"h-5 w-5"}):o.jsx(Li,{className:"h-5 w-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[p&&o.jsx("p",{className:"text-green-400 text-sm",children:p}),d&&o.jsx("p",{className:"text-red-400 text-sm",children:d})]}),o.jsx("button",{onClick:y,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md flex items-center",children:c?o.jsxs(o.Fragment,{children:[o.jsx(J,{className:"w-4 h-4 mr-2"}),"Saving..."]}):"Save Token"})]})]})]})})]})}function lh(){return o.jsx("div",{className:"bg-[#2a2a2a] border border-yellow-500/30 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Ki,{className:"w-6 h-6 text-yellow-500 mr-3"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-yellow-500 mb-2",children:"Privacy & Data Storage"}),o.jsx("p",{className:"text-gray-300 mb-2",children:"This application stores no cloud data, even after login. Login is required only to download models."}),o.jsx("p",{className:"text-gray-300 mb-2",children:"Your chats, history, and configuration are stored entirely on your device."}),o.jsx("p",{className:"text-gray-300",children:"Before uninstalling, please export your data if you wish to migrate it to another system."})]})]})})}function ch(){const{user:e,isAuthenticated:t}=ws(),{openExternalUrl:s}=ge(),[n,r]=f.useState(null),[a,i]=f.useState("google"),l=()=>{const h=`${window.api?.getBaseUrl?.()||"https://equators.tech"}/test-chatbot-auth`;s?.(h)},c=()=>{const p=`${window.api?.getBaseUrl?.()||"https://equators.tech"}/api/auth/oauth?provider=${a}&redirect=${encodeURIComponent("equatorschatbot://auth/callback")}`;s?.(p)},u=async()=>{try{const d=await window.api?.testProtocolHandler?.();r(d),console.log("Protocol handler status:",d)}catch(d){console.error("Failed to check protocol handler:",d),r({success:!1,error:d.toString()})}};return o.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700 shadow-lg mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"OAuth Deep Linking Test"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Status: ",t?o.jsx("span",{className:"text-green-400 font-medium",children:"Authenticated"}):o.jsx("span",{className:"text-red-400 font-medium",children:"Not authenticated"})]}),t&&e&&o.jsx("div",{className:"text-sm text-gray-300",children:o.jsxs("p",{children:["Logged in as: ",e.name||e.email]})}),n&&o.jsxs("div",{className:"mt-3 p-3 bg-gray-900 rounded-md text-xs font-mono",children:[o.jsx("div",{className:"text-blue-300 mb-1",children:"Protocol Handler Status:"}),o.jsx("pre",{className:"text-gray-300 overflow-x-auto",children:JSON.stringify(n,null,2)})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[o.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white text-sm transition-colors duration-150",children:"Open Test Page"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:a,onChange:d=>i(d.target.value),className:"px-2 py-2 bg-gray-700 rounded-md text-white text-sm",children:[o.jsx("option",{value:"google",children:"Google"}),o.jsx("option",{value:"github",children:"GitHub"})]}),o.jsxs("button",{onClick:c,className:`px-4 py-2 rounded-md text-white text-sm transition-colors duration-150 ${a==="google"?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700"}`,children:["Test ",a.charAt(0).toUpperCase()+a.slice(1)," OAuth"]})]}),o.jsx("button",{onClick:u,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white text-sm transition-colors duration-150",children:"Check Protocol Handlers"})]})]})}function uh(){const[e,t]=f.useState("chat"),s=[{id:"chat",label:"Chat",component:o.jsx(rh,{})},{id:"performance",label:"Performance",component:o.jsx(oh,{})},{id:"api",label:"API",component:o.jsx(ah,{})},{id:"system",label:"System",component:o.jsx(ih,{})}];return o.jsxs(V.div,{className:"settings-page p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(xr,{className:"w-8 h-8 text-blue-400 mr-2"}),o.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Settings"})]}),o.jsx(ch,{}),o.jsx(lh,{}),o.jsx("div",{className:"tabs flex mb-4",children:s.map(n=>o.jsx("button",{className:`tab-button ${e===n.id?"active":""}`,onClick:()=>t(n.id),children:n.label},n.id))}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"tab-content",children:s.find(n=>n.id===e)?.component},e)]})}const dh=ci([{path:"/",element:o.jsx(Fd,{}),children:[{index:!0,element:o.jsx(Xt,{})},{path:"models",element:o.jsx(sh,{})},{path:"chat",element:o.jsx(Xt,{})},{path:"chat/:modelId",element:o.jsx(Xt,{})},{path:"history",element:o.jsx(nh,{})},{path:"settings",element:o.jsx(uh,{})},{path:"*",element:o.jsx(ui,{to:"/"})}]}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}}),hh=mi.createRoot(document.getElementById("root"));hh.render(o.jsx(st.StrictMode,{children:o.jsx(ea,{children:o.jsx(di,{router:dh})})}));export{cr as A,Wd as F,j as P,yr as a,St as b,Gs as c,vr as d,zi as e,wr as f,gr as g,V as m};
//# sourceMappingURL=index-Bc3xk5S_.js.map
